(()=>{var t={9669:(t,e,r)=>{t.exports=r(1609)},7970:(t,e,r)=>{"use strict";var n=r(4867),i=r(6026),o=r(4097),s=r(5327),a=r(3685),u=r(5687),c=r(938).http,f=r(938).https,l=r(7310),p=r(9796),h=r(7288).version,d=r(5061),m=r(481),g=r(5655),v=r(5263),y=/https:?/;function w(t,e,r){if(t.hostname=e.host,t.host=e.host,t.port=e.port,t.path=r,e.auth){var n=Buffer.from(e.auth.username+":"+e.auth.password,"utf8").toString("base64");t.headers["Proxy-Authorization"]="Basic "+n}t.beforeRedirect=function(t){t.headers.host=t.host,w(t,e,t.href)}}t.exports=function(t){return new Promise((function(e,r){var b;function E(){t.cancelToken&&t.cancelToken.unsubscribe(b),t.signal&&t.signal.removeEventListener("abort",b)}var _=function(t){E(),e(t)},x=!1,O=function(t){E(),x=!0,r(t)},C=t.data,F=t.headers,S={};if(Object.keys(F).forEach((function(t){S[t.toLowerCase()]=t})),"user-agent"in S?F[S["user-agent"]]||delete F[S["user-agent"]]:F["User-Agent"]="axios/"+h,C&&!n.isStream(C)){if(Buffer.isBuffer(C));else if(n.isArrayBuffer(C))C=Buffer.from(new Uint8Array(C));else{if(!n.isString(C))return O(d("Data after transformation must be a string, an ArrayBuffer, a Buffer, or a Stream",t));C=Buffer.from(C,"utf-8")}if(t.maxBodyLength>-1&&C.length>t.maxBodyLength)return O(d("Request body larger than maxBodyLength limit",t));S["content-length"]||(F["Content-Length"]=C.length)}var A=void 0;t.auth&&(A=(t.auth.username||"")+":"+(t.auth.password||""));var k=o(t.baseURL,t.url),T=l.parse(k),P=T.protocol||"http:";if(!A&&T.auth){var R=T.auth.split(":");A=(R[0]||"")+":"+(R[1]||"")}A&&S.authorization&&delete F[S.authorization];var L=y.test(P),N=L?t.httpsAgent:t.httpAgent;try{s(T.path,t.params,t.paramsSerializer).replace(/^\?/,"")}catch(e){var j=new Error(e.message);j.config=t,j.url=t.url,j.exists=!0,O(j)}var I={path:s(T.path,t.params,t.paramsSerializer).replace(/^\?/,""),method:t.method.toUpperCase(),headers:F,agent:N,agents:{http:t.httpAgent,https:t.httpsAgent},auth:A};t.socketPath?I.socketPath=t.socketPath:(I.hostname=T.hostname,I.port=T.port);var B,M=t.proxy;if(!M&&!1!==M){var D=P.slice(0,-1)+"_proxy",z=process.env[D]||process.env[D.toUpperCase()];if(z){var q=l.parse(z),$=process.env.no_proxy||process.env.NO_PROXY,U=!0;if($&&(U=!$.split(",").map((function(t){return t.trim()})).some((function(t){return!!t&&("*"===t||"."===t[0]&&T.hostname.substr(T.hostname.length-t.length)===t||T.hostname===t)}))),U&&(M={host:q.hostname,port:q.port,protocol:q.protocol},q.auth)){var V=q.auth.split(":");M.auth={username:V[0],password:V[1]}}}}M&&(I.headers.host=T.hostname+(T.port?":"+T.port:""),w(I,M,P+"//"+T.hostname+(T.port?":"+T.port:"")+I.path));var H=L&&(!M||y.test(M.protocol));t.transport?B=t.transport:0===t.maxRedirects?B=H?u:a:(t.maxRedirects&&(I.maxRedirects=t.maxRedirects),B=H?f:c),t.maxBodyLength>-1&&(I.maxBodyLength=t.maxBodyLength),t.insecureHTTPParser&&(I.insecureHTTPParser=t.insecureHTTPParser);var G=B.request(I,(function(e){if(!G.aborted){var r=e,o=e.req||G;if(204!==e.statusCode&&"HEAD"!==o.method&&!1!==t.decompress)switch(e.headers["content-encoding"]){case"gzip":case"compress":case"deflate":r=r.pipe(p.createUnzip()),delete e.headers["content-encoding"]}var s={status:e.statusCode,statusText:e.statusMessage,headers:e.headers,config:t,request:o};if("stream"===t.responseType)s.data=r,i(_,O,s);else{var a=[],u=0;r.on("data",(function(e){a.push(e),u+=e.length,t.maxContentLength>-1&&u>t.maxContentLength&&(x=!0,r.destroy(),O(d("maxContentLength size of "+t.maxContentLength+" exceeded",t,null,o)))})),r.on("aborted",(function(){x||(r.destroy(),O(d("error request aborted",t,"ERR_REQUEST_ABORTED",o)))})),r.on("error",(function(e){G.aborted||O(m(e,t,null,o))})),r.on("end",(function(){try{var e=1===a.length?a[0]:Buffer.concat(a);"arraybuffer"!==t.responseType&&(e=e.toString(t.responseEncoding),t.responseEncoding&&"utf8"!==t.responseEncoding||(e=n.stripBOM(e))),s.data=e}catch(e){O(m(e,t,e.code,s.request,s))}i(_,O,s)}))}}}));if(G.on("error",(function(e){G.aborted&&"ERR_FR_TOO_MANY_REDIRECTS"!==e.code||O(m(e,t,null,G))})),G.on("socket",(function(t){t.setKeepAlive(!0,6e4)})),t.timeout){var W=parseInt(t.timeout,10);if(isNaN(W))return void O(d("error trying to parse `config.timeout` to int",t,"ERR_PARSE_TIMEOUT",G));G.setTimeout(W,(function(){G.abort();var e;e=t.timeoutErrorMessage?t.timeoutErrorMessage:"timeout of "+t.timeout+"ms exceeded";var r=t.transitional||g.transitional;O(d(e,t,r.clarifyTimeoutError?"ETIMEDOUT":"ECONNABORTED",G))}))}(t.cancelToken||t.signal)&&(b=function(t){G.aborted||(G.abort(),O(!t||t&&t.type?new v("canceled"):t))},t.cancelToken&&t.cancelToken.subscribe(b),t.signal&&(t.signal.aborted?b():t.signal.addEventListener("abort",b))),n.isStream(C)?C.on("error",(function(e){O(m(e,t,null,G))})).pipe(G):G.end(C)}))}},5448:(t,e,r)=>{"use strict";var n=r(4867),i=r(6026),o=r(4372),s=r(5327),a=r(4097),u=r(4109),c=r(7985),f=r(5061),l=r(5655),p=r(5263);t.exports=function(t){return new Promise((function(e,r){var h,d=t.data,m=t.headers,g=t.responseType;function v(){t.cancelToken&&t.cancelToken.unsubscribe(h),t.signal&&t.signal.removeEventListener("abort",h)}n.isFormData(d)&&delete m["Content-Type"];var y=new XMLHttpRequest;if(t.auth){var w=t.auth.username||"",b=t.auth.password?unescape(encodeURIComponent(t.auth.password)):"";m.Authorization="Basic "+btoa(w+":"+b)}var E=a(t.baseURL,t.url);function _(){if(y){var n="getAllResponseHeaders"in y?u(y.getAllResponseHeaders()):null,o={data:g&&"text"!==g&&"json"!==g?y.response:y.responseText,status:y.status,statusText:y.statusText,headers:n,config:t,request:y};i((function(t){e(t),v()}),(function(t){r(t),v()}),o),y=null}}if(y.open(t.method.toUpperCase(),s(E,t.params,t.paramsSerializer),!0),y.timeout=t.timeout,"onloadend"in y?y.onloadend=_:y.onreadystatechange=function(){y&&4===y.readyState&&(0!==y.status||y.responseURL&&0===y.responseURL.indexOf("file:"))&&setTimeout(_)},y.onabort=function(){y&&(r(f("Request aborted",t,"ECONNABORTED",y)),y=null)},y.onerror=function(){r(f("Network Error",t,null,y)),y=null},y.ontimeout=function(){var e=t.timeout?"timeout of "+t.timeout+"ms exceeded":"timeout exceeded",n=t.transitional||l.transitional;t.timeoutErrorMessage&&(e=t.timeoutErrorMessage),r(f(e,t,n.clarifyTimeoutError?"ETIMEDOUT":"ECONNABORTED",y)),y=null},n.isStandardBrowserEnv()){var x=(t.withCredentials||c(E))&&t.xsrfCookieName?o.read(t.xsrfCookieName):void 0;x&&(m[t.xsrfHeaderName]=x)}"setRequestHeader"in y&&n.forEach(m,(function(t,e){void 0===d&&"content-type"===e.toLowerCase()?delete m[e]:y.setRequestHeader(e,t)})),n.isUndefined(t.withCredentials)||(y.withCredentials=!!t.withCredentials),g&&"json"!==g&&(y.responseType=t.responseType),"function"==typeof t.onDownloadProgress&&y.addEventListener("progress",t.onDownloadProgress),"function"==typeof t.onUploadProgress&&y.upload&&y.upload.addEventListener("progress",t.onUploadProgress),(t.cancelToken||t.signal)&&(h=function(t){y&&(r(!t||t&&t.type?new p("canceled"):t),y.abort(),y=null)},t.cancelToken&&t.cancelToken.subscribe(h),t.signal&&(t.signal.aborted?h():t.signal.addEventListener("abort",h))),d||(d=null),y.send(d)}))}},1609:(t,e,r)=>{"use strict";var n=r(4867),i=r(1849),o=r(321),s=r(7185),a=function t(e){var r=new o(e),a=i(o.prototype.request,r);return n.extend(a,o.prototype,r),n.extend(a,r),a.create=function(r){return t(s(e,r))},a}(r(5655));a.Axios=o,a.Cancel=r(5263),a.CancelToken=r(4972),a.isCancel=r(6502),a.VERSION=r(7288).version,a.all=function(t){return Promise.all(t)},a.spread=r(8713),a.isAxiosError=r(6268),t.exports=a,t.exports.default=a},5263:t=>{"use strict";function e(t){this.message=t}e.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},e.prototype.__CANCEL__=!0,t.exports=e},4972:(t,e,r)=>{"use strict";var n=r(5263);function i(t){if("function"!=typeof t)throw new TypeError("executor must be a function.");var e;this.promise=new Promise((function(t){e=t}));var r=this;this.promise.then((function(t){if(r._listeners){var e,n=r._listeners.length;for(e=0;e<n;e++)r._listeners[e](t);r._listeners=null}})),this.promise.then=function(t){var e,n=new Promise((function(t){r.subscribe(t),e=t})).then(t);return n.cancel=function(){r.unsubscribe(e)},n},t((function(t){r.reason||(r.reason=new n(t),e(r.reason))}))}i.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},i.prototype.subscribe=function(t){this.reason?t(this.reason):this._listeners?this._listeners.push(t):this._listeners=[t]},i.prototype.unsubscribe=function(t){if(this._listeners){var e=this._listeners.indexOf(t);-1!==e&&this._listeners.splice(e,1)}},i.source=function(){var t;return{token:new i((function(e){t=e})),cancel:t}},t.exports=i},6502:t=>{"use strict";t.exports=function(t){return!(!t||!t.__CANCEL__)}},321:(t,e,r)=>{"use strict";var n=r(4867),i=r(5327),o=r(782),s=r(3572),a=r(7185),u=r(4875),c=u.validators;function f(t){this.defaults=t,this.interceptors={request:new o,response:new o}}f.prototype.request=function(t,e){"string"==typeof t?(e=e||{}).url=t:e=t||{},(e=a(this.defaults,e)).method?e.method=e.method.toLowerCase():this.defaults.method?e.method=this.defaults.method.toLowerCase():e.method="get";var r=e.transitional;void 0!==r&&u.assertOptions(r,{silentJSONParsing:c.transitional(c.boolean),forcedJSONParsing:c.transitional(c.boolean),clarifyTimeoutError:c.transitional(c.boolean)},!1);var n=[],i=!0;this.interceptors.request.forEach((function(t){"function"==typeof t.runWhen&&!1===t.runWhen(e)||(i=i&&t.synchronous,n.unshift(t.fulfilled,t.rejected))}));var o,f=[];if(this.interceptors.response.forEach((function(t){f.push(t.fulfilled,t.rejected)})),!i){var l=[s,void 0];for(Array.prototype.unshift.apply(l,n),l=l.concat(f),o=Promise.resolve(e);l.length;)o=o.then(l.shift(),l.shift());return o}for(var p=e;n.length;){var h=n.shift(),d=n.shift();try{p=h(p)}catch(t){d(t);break}}try{o=s(p)}catch(t){return Promise.reject(t)}for(;f.length;)o=o.then(f.shift(),f.shift());return o},f.prototype.getUri=function(t){return t=a(this.defaults,t),i(t.url,t.params,t.paramsSerializer).replace(/^\?/,"")},n.forEach(["delete","get","head","options"],(function(t){f.prototype[t]=function(e,r){return this.request(a(r||{},{method:t,url:e,data:(r||{}).data}))}})),n.forEach(["post","put","patch"],(function(t){f.prototype[t]=function(e,r,n){return this.request(a(n||{},{method:t,url:e,data:r}))}})),t.exports=f},782:(t,e,r)=>{"use strict";var n=r(4867);function i(){this.handlers=[]}i.prototype.use=function(t,e,r){return this.handlers.push({fulfilled:t,rejected:e,synchronous:!!r&&r.synchronous,runWhen:r?r.runWhen:null}),this.handlers.length-1},i.prototype.eject=function(t){this.handlers[t]&&(this.handlers[t]=null)},i.prototype.forEach=function(t){n.forEach(this.handlers,(function(e){null!==e&&t(e)}))},t.exports=i},4097:(t,e,r)=>{"use strict";var n=r(1793),i=r(7303);t.exports=function(t,e){return t&&!n(e)?i(t,e):e}},5061:(t,e,r)=>{"use strict";var n=r(481);t.exports=function(t,e,r,i,o){var s=new Error(t);return n(s,e,r,i,o)}},3572:(t,e,r)=>{"use strict";var n=r(4867),i=r(8527),o=r(6502),s=r(5655),a=r(5263);function u(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new a("canceled")}t.exports=function(t){return u(t),t.headers=t.headers||{},t.data=i.call(t,t.data,t.headers,t.transformRequest),t.headers=n.merge(t.headers.common||{},t.headers[t.method]||{},t.headers),n.forEach(["delete","get","head","post","put","patch","common"],(function(e){delete t.headers[e]})),(t.adapter||s.adapter)(t).then((function(e){return u(t),e.data=i.call(t,e.data,e.headers,t.transformResponse),e}),(function(e){return o(e)||(u(t),e&&e.response&&(e.response.data=i.call(t,e.response.data,e.response.headers,t.transformResponse))),Promise.reject(e)}))}},481:t=>{"use strict";t.exports=function(t,e,r,n,i){return t.config=e,r&&(t.code=r),t.request=n,t.response=i,t.isAxiosError=!0,t.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code,status:this.response&&this.response.status?this.response.status:null}},t}},7185:(t,e,r)=>{"use strict";var n=r(4867);t.exports=function(t,e){e=e||{};var r={};function i(t,e){return n.isPlainObject(t)&&n.isPlainObject(e)?n.merge(t,e):n.isPlainObject(e)?n.merge({},e):n.isArray(e)?e.slice():e}function o(r){return n.isUndefined(e[r])?n.isUndefined(t[r])?void 0:i(void 0,t[r]):i(t[r],e[r])}function s(t){if(!n.isUndefined(e[t]))return i(void 0,e[t])}function a(r){return n.isUndefined(e[r])?n.isUndefined(t[r])?void 0:i(void 0,t[r]):i(void 0,e[r])}function u(r){return r in e?i(t[r],e[r]):r in t?i(void 0,t[r]):void 0}var c={url:s,method:s,data:s,baseURL:a,transformRequest:a,transformResponse:a,paramsSerializer:a,timeout:a,timeoutMessage:a,withCredentials:a,adapter:a,responseType:a,xsrfCookieName:a,xsrfHeaderName:a,onUploadProgress:a,onDownloadProgress:a,decompress:a,maxContentLength:a,maxBodyLength:a,transport:a,httpAgent:a,httpsAgent:a,cancelToken:a,socketPath:a,responseEncoding:a,validateStatus:u};return n.forEach(Object.keys(t).concat(Object.keys(e)),(function(t){var e=c[t]||o,i=e(t);n.isUndefined(i)&&e!==u||(r[t]=i)})),r}},6026:(t,e,r)=>{"use strict";var n=r(5061);t.exports=function(t,e,r){var i=r.config.validateStatus;r.status&&i&&!i(r.status)?e(n("Request failed with status code "+r.status,r.config,null,r.request,r)):t(r)}},8527:(t,e,r)=>{"use strict";var n=r(4867),i=r(5655);t.exports=function(t,e,r){var o=this||i;return n.forEach(r,(function(r){t=r.call(o,t,e)})),t}},5655:(t,e,r)=>{"use strict";var n=r(4867),i=r(6016),o=r(481),s={"Content-Type":"application/x-www-form-urlencoded"};function a(t,e){!n.isUndefined(t)&&n.isUndefined(t["Content-Type"])&&(t["Content-Type"]=e)}var u,c={transitional:{silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},adapter:("undefined"!=typeof XMLHttpRequest?u=r(5448):"undefined"!=typeof process&&"[object process]"===Object.prototype.toString.call(process)&&(u=r(7970)),u),transformRequest:[function(t,e){return i(e,"Accept"),i(e,"Content-Type"),n.isFormData(t)||n.isArrayBuffer(t)||n.isBuffer(t)||n.isStream(t)||n.isFile(t)||n.isBlob(t)?t:n.isArrayBufferView(t)?t.buffer:n.isURLSearchParams(t)?(a(e,"application/x-www-form-urlencoded;charset=utf-8"),t.toString()):n.isObject(t)||e&&"application/json"===e["Content-Type"]?(a(e,"application/json"),function(t,e,r){if(n.isString(t))try{return(0,JSON.parse)(t),n.trim(t)}catch(t){if("SyntaxError"!==t.name)throw t}return(0,JSON.stringify)(t)}(t)):t}],transformResponse:[function(t){var e=this.transitional||c.transitional,r=e&&e.silentJSONParsing,i=e&&e.forcedJSONParsing,s=!r&&"json"===this.responseType;if(s||i&&n.isString(t)&&t.length)try{return JSON.parse(t)}catch(t){if(s){if("SyntaxError"===t.name)throw o(t,this,"E_JSON_PARSE");throw t}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};n.forEach(["delete","get","head"],(function(t){c.headers[t]={}})),n.forEach(["post","put","patch"],(function(t){c.headers[t]=n.merge(s)})),t.exports=c},7288:t=>{t.exports={version:"0.26.0"}},1849:t=>{"use strict";t.exports=function(t,e){return function(){for(var r=new Array(arguments.length),n=0;n<r.length;n++)r[n]=arguments[n];return t.apply(e,r)}}},5327:(t,e,r)=>{"use strict";var n=r(4867);function i(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}t.exports=function(t,e,r){if(!e)return t;var o;if(r)o=r(e);else if(n.isURLSearchParams(e))o=e.toString();else{var s=[];n.forEach(e,(function(t,e){null!=t&&(n.isArray(t)?e+="[]":t=[t],n.forEach(t,(function(t){n.isDate(t)?t=t.toISOString():n.isObject(t)&&(t=JSON.stringify(t)),s.push(i(e)+"="+i(t))})))})),o=s.join("&")}if(o){var a=t.indexOf("#");-1!==a&&(t=t.slice(0,a)),t+=(-1===t.indexOf("?")?"?":"&")+o}return t}},7303:t=>{"use strict";t.exports=function(t,e){return e?t.replace(/\/+$/,"")+"/"+e.replace(/^\/+/,""):t}},4372:(t,e,r)=>{"use strict";var n=r(4867);t.exports=n.isStandardBrowserEnv()?{write:function(t,e,r,i,o,s){var a=[];a.push(t+"="+encodeURIComponent(e)),n.isNumber(r)&&a.push("expires="+new Date(r).toGMTString()),n.isString(i)&&a.push("path="+i),n.isString(o)&&a.push("domain="+o),!0===s&&a.push("secure"),document.cookie=a.join("; ")},read:function(t){var e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove:function(t){this.write(t,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}}},1793:t=>{"use strict";t.exports=function(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}},6268:(t,e,r)=>{"use strict";var n=r(4867);t.exports=function(t){return n.isObject(t)&&!0===t.isAxiosError}},7985:(t,e,r)=>{"use strict";var n=r(4867);t.exports=n.isStandardBrowserEnv()?function(){var t,e=/(msie|trident)/i.test(navigator.userAgent),r=document.createElement("a");function i(t){var n=t;return e&&(r.setAttribute("href",n),n=r.href),r.setAttribute("href",n),{href:r.href,protocol:r.protocol?r.protocol.replace(/:$/,""):"",host:r.host,search:r.search?r.search.replace(/^\?/,""):"",hash:r.hash?r.hash.replace(/^#/,""):"",hostname:r.hostname,port:r.port,pathname:"/"===r.pathname.charAt(0)?r.pathname:"/"+r.pathname}}return t=i(window.location.href),function(e){var r=n.isString(e)?i(e):e;return r.protocol===t.protocol&&r.host===t.host}}():function(){return!0}},6016:(t,e,r)=>{"use strict";var n=r(4867);t.exports=function(t,e){n.forEach(t,(function(r,n){n!==e&&n.toUpperCase()===e.toUpperCase()&&(t[e]=r,delete t[n])}))}},4109:(t,e,r)=>{"use strict";var n=r(4867),i=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];t.exports=function(t){var e,r,o,s={};return t?(n.forEach(t.split("\n"),(function(t){if(o=t.indexOf(":"),e=n.trim(t.substr(0,o)).toLowerCase(),r=n.trim(t.substr(o+1)),e){if(s[e]&&i.indexOf(e)>=0)return;s[e]="set-cookie"===e?(s[e]?s[e]:[]).concat([r]):s[e]?s[e]+", "+r:r}})),s):s}},8713:t=>{"use strict";t.exports=function(t){return function(e){return t.apply(null,e)}}},4875:(t,e,r)=>{"use strict";var n=r(7288).version,i={};["object","boolean","number","function","string","symbol"].forEach((function(t,e){i[t]=function(r){return typeof r===t||"a"+(e<1?"n ":" ")+t}}));var o={};i.transitional=function(t,e,r){function i(t,e){return"[Axios v"+n+"] Transitional option '"+t+"'"+e+(r?". "+r:"")}return function(r,n,s){if(!1===t)throw new Error(i(n," has been removed"+(e?" in "+e:"")));return e&&!o[n]&&(o[n]=!0,console.warn(i(n," has been deprecated since v"+e+" and will be removed in the near future"))),!t||t(r,n,s)}},t.exports={assertOptions:function(t,e,r){if("object"!=typeof t)throw new TypeError("options must be an object");for(var n=Object.keys(t),i=n.length;i-- >0;){var o=n[i],s=e[o];if(s){var a=t[o],u=void 0===a||s(a,o,t);if(!0!==u)throw new TypeError("option "+o+" must be "+u)}else if(!0!==r)throw Error("Unknown option "+o)}},validators:i}},4867:(t,e,r)=>{"use strict";var n=r(1849),i=Object.prototype.toString;function o(t){return Array.isArray(t)}function s(t){return void 0===t}function a(t){return"[object ArrayBuffer]"===i.call(t)}function u(t){return null!==t&&"object"==typeof t}function c(t){if("[object Object]"!==i.call(t))return!1;var e=Object.getPrototypeOf(t);return null===e||e===Object.prototype}function f(t){return"[object Function]"===i.call(t)}function l(t,e){if(null!=t)if("object"!=typeof t&&(t=[t]),o(t))for(var r=0,n=t.length;r<n;r++)e.call(null,t[r],r,t);else for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.call(null,t[i],i,t)}t.exports={isArray:o,isArrayBuffer:a,isBuffer:function(t){return null!==t&&!s(t)&&null!==t.constructor&&!s(t.constructor)&&"function"==typeof t.constructor.isBuffer&&t.constructor.isBuffer(t)},isFormData:function(t){return"[object FormData]"===i.call(t)},isArrayBufferView:function(t){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(t):t&&t.buffer&&a(t.buffer)},isString:function(t){return"string"==typeof t},isNumber:function(t){return"number"==typeof t},isObject:u,isPlainObject:c,isUndefined:s,isDate:function(t){return"[object Date]"===i.call(t)},isFile:function(t){return"[object File]"===i.call(t)},isBlob:function(t){return"[object Blob]"===i.call(t)},isFunction:f,isStream:function(t){return u(t)&&f(t.pipe)},isURLSearchParams:function(t){return"[object URLSearchParams]"===i.call(t)},isStandardBrowserEnv:function(){return("undefined"==typeof navigator||"ReactNative"!==navigator.product&&"NativeScript"!==navigator.product&&"NS"!==navigator.product)&&"undefined"!=typeof window&&"undefined"!=typeof document},forEach:l,merge:function t(){var e={};function r(r,n){c(e[n])&&c(r)?e[n]=t(e[n],r):c(r)?e[n]=t({},r):o(r)?e[n]=r.slice():e[n]=r}for(var n=0,i=arguments.length;n<i;n++)l(arguments[n],r);return e},extend:function(t,e,r){return l(e,(function(e,i){t[i]=r&&"function"==typeof e?n(e,r):e})),t},trim:function(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")},stripBOM:function(t){return 65279===t.charCodeAt(0)&&(t=t.slice(1)),t}}},1227:(t,e,r)=>{e.formatArgs=function(e){if(e[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+e[0]+(this.useColors?"%c ":" ")+"+"+t.exports.humanize(this.diff),!this.useColors)return;const r="color: "+this.color;e.splice(1,0,r,"color: inherit");let n=0,i=0;e[0].replace(/%[a-zA-Z%]/g,(t=>{"%%"!==t&&(n++,"%c"===t&&(i=n))})),e.splice(i,0,r)},e.save=function(t){try{t?e.storage.setItem("debug",t):e.storage.removeItem("debug")}catch(t){}},e.load=function(){let t;try{t=e.storage.getItem("debug")}catch(t){}return!t&&"undefined"!=typeof process&&"env"in process&&(t=process.env.DEBUG),t},e.useColors=function(){return!("undefined"==typeof window||!window.process||"renderer"!==window.process.type&&!window.process.__nwjs)||("undefined"==typeof navigator||!navigator.userAgent||!navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))&&("undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/))},e.storage=function(){try{return localStorage}catch(t){}}(),e.destroy=(()=>{let t=!1;return()=>{t||(t=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),e.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],e.log=console.debug||console.log||(()=>{}),t.exports=r(2447)(e);const{formatters:n}=t.exports;n.j=function(t){try{return JSON.stringify(t)}catch(t){return"[UnexpectedJSONParseError]: "+t.message}}},2447:(t,e,r)=>{t.exports=function(t){function e(t){let r,i,o,s=null;function a(...t){if(!a.enabled)return;const n=a,i=Number(new Date),o=i-(r||i);n.diff=o,n.prev=r,n.curr=i,r=i,t[0]=e.coerce(t[0]),"string"!=typeof t[0]&&t.unshift("%O");let s=0;t[0]=t[0].replace(/%([a-zA-Z%])/g,((r,i)=>{if("%%"===r)return"%";s++;const o=e.formatters[i];if("function"==typeof o){const e=t[s];r=o.call(n,e),t.splice(s,1),s--}return r})),e.formatArgs.call(n,t),(n.log||e.log).apply(n,t)}return a.namespace=t,a.useColors=e.useColors(),a.color=e.selectColor(t),a.extend=n,a.destroy=e.destroy,Object.defineProperty(a,"enabled",{enumerable:!0,configurable:!1,get:()=>null!==s?s:(i!==e.namespaces&&(i=e.namespaces,o=e.enabled(t)),o),set:t=>{s=t}}),"function"==typeof e.init&&e.init(a),a}function n(t,r){const n=e(this.namespace+(void 0===r?":":r)+t);return n.log=this.log,n}function i(t){return t.toString().substring(2,t.toString().length-2).replace(/\.\*\?$/,"*")}return e.debug=e,e.default=e,e.coerce=function(t){return t instanceof Error?t.stack||t.message:t},e.disable=function(){const t=[...e.names.map(i),...e.skips.map(i).map((t=>"-"+t))].join(",");return e.enable(""),t},e.enable=function(t){let r;e.save(t),e.namespaces=t,e.names=[],e.skips=[];const n=("string"==typeof t?t:"").split(/[\s,]+/),i=n.length;for(r=0;r<i;r++)n[r]&&("-"===(t=n[r].replace(/\*/g,".*?"))[0]?e.skips.push(new RegExp("^"+t.substr(1)+"$")):e.names.push(new RegExp("^"+t+"$")))},e.enabled=function(t){if("*"===t[t.length-1])return!0;let r,n;for(r=0,n=e.skips.length;r<n;r++)if(e.skips[r].test(t))return!1;for(r=0,n=e.names.length;r<n;r++)if(e.names[r].test(t))return!0;return!1},e.humanize=r(7824),e.destroy=function(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")},Object.keys(t).forEach((r=>{e[r]=t[r]})),e.names=[],e.skips=[],e.formatters={},e.selectColor=function(t){let r=0;for(let e=0;e<t.length;e++)r=(r<<5)-r+t.charCodeAt(e),r|=0;return e.colors[Math.abs(r)%e.colors.length]},e.enable(e.load()),e}},5158:(t,e,r)=>{"undefined"==typeof process||"renderer"===process.type||!0===process.browser||process.__nwjs?t.exports=r(1227):t.exports=r(39)},39:(t,e,r)=>{const n=r(6224),i=r(3837);e.init=function(t){t.inspectOpts={};const r=Object.keys(e.inspectOpts);for(let n=0;n<r.length;n++)t.inspectOpts[r[n]]=e.inspectOpts[r[n]]},e.log=function(...t){return process.stderr.write(i.format(...t)+"\n")},e.formatArgs=function(r){const{namespace:n,useColors:i}=this;if(i){const e=this.color,i="[3"+(e<8?e:"8;5;"+e),o=`  ${i};1m${n} [0m`;r[0]=o+r[0].split("\n").join("\n"+o),r.push(i+"m+"+t.exports.humanize(this.diff)+"[0m")}else r[0]=(e.inspectOpts.hideDate?"":(new Date).toISOString()+" ")+n+" "+r[0]},e.save=function(t){t?process.env.DEBUG=t:delete process.env.DEBUG},e.load=function(){return process.env.DEBUG},e.useColors=function(){return"colors"in e.inspectOpts?Boolean(e.inspectOpts.colors):n.isatty(process.stderr.fd)},e.destroy=i.deprecate((()=>{}),"Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."),e.colors=[6,2,3,4,5,1];try{const t=r(2130);t&&(t.stderr||t).level>=2&&(e.colors=[20,21,26,27,32,33,38,39,40,41,42,43,44,45,56,57,62,63,68,69,74,75,76,77,78,79,80,81,92,93,98,99,112,113,128,129,134,135,148,149,160,161,162,163,164,165,166,167,168,169,170,171,172,173,178,179,184,185,196,197,198,199,200,201,202,203,204,205,206,207,208,209,214,215,220,221])}catch(t){}e.inspectOpts=Object.keys(process.env).filter((t=>/^debug_/i.test(t))).reduce(((t,e)=>{const r=e.substring(6).toLowerCase().replace(/_([a-z])/g,((t,e)=>e.toUpperCase()));let n=process.env[e];return n=!!/^(yes|on|true|enabled)$/i.test(n)||!/^(no|off|false|disabled)$/i.test(n)&&("null"===n?null:Number(n)),t[r]=n,t}),{}),t.exports=r(2447)(e);const{formatters:o}=t.exports;o.o=function(t){return this.inspectOpts.colors=this.useColors,i.inspect(t,this.inspectOpts).split("\n").map((t=>t.trim())).join(" ")},o.O=function(t){return this.inspectOpts.colors=this.useColors,i.inspect(t,this.inspectOpts)}},3259:(t,e,r)=>{"use strict";if(process.env.FFMPEG_BIN)t.exports=process.env.FFMPEG_BIN;else{var n=r(2037),i=r(1017),o=Object.assign(Object.create(null),{darwin:["x64","arm64"],freebsd:["x64"],linux:["x64","ia32","arm64","arm"],win32:["x64","ia32"]}),s=process.env.npm_config_platform||n.platform(),a=process.env.npm_config_arch||n.arch(),u=i.join(__dirname,"win32"===s?"ffmpeg.exe":"ffmpeg");o[s]&&-1!==o[s].indexOf(a)||(u=null),t.exports=u}},9167:(t,e,r)=>{t.exports=r(7186)},3219:(t,e,r)=>{"use strict";var n=r(7147),i=r(1017),o=r(1641),s=r(4378),a=/^\s*([D ])([E ])([VAS])([S ])([D ])([T ]) ([^ ]+) +(.*)$/,u=/^\s*([D\.])([E\.])([VAS])([I\.])([L\.])([S\.]) ([^ ]+) +(.*)$/,c=/\(encoders:([^\)]+)\)/,f=/\(decoders:([^\)]+)\)/,l=/^\s*([VAS\.])([F\.])([S\.])([X\.])([B\.])([D\.]) ([^ ]+) +(.*)$/,p=/^\s*([D ])([E ]) ([^ ]+) +(.*)$/,h=/\r\n|\r|\n/,d=/^(?: [T\.][S\.][C\.] )?([^ ]+) +(AA?|VV?|\|)->(AA?|VV?|\|) +(.*)$/,m={};t.exports=function(t){t.setFfmpegPath=function(t){return m.ffmpegPath=t,this},t.setFfprobePath=function(t){return m.ffprobePath=t,this},t.setFlvtoolPath=function(t){return m.flvtoolPath=t,this},t._forgetPaths=function(){delete m.ffmpegPath,delete m.ffprobePath,delete m.flvtoolPath},t._getFfmpegPath=function(t){if("ffmpegPath"in m)return t(null,m.ffmpegPath);o.waterfall([function(t){process.env.FFMPEG_PATH?n.exists(process.env.FFMPEG_PATH,(function(e){t(null,e?process.env.FFMPEG_PATH:"")})):t(null,"")},function(t,e){if(t.length)return e(null,t);s.which("ffmpeg",(function(t,r){e(t,r)}))}],(function(e,r){e?t(e):t(null,m.ffmpegPath=r||"")}))},t._getFfprobePath=function(t){var e=this;if("ffprobePath"in m)return t(null,m.ffprobePath);o.waterfall([function(t){process.env.FFPROBE_PATH?n.exists(process.env.FFPROBE_PATH,(function(e){t(null,e?process.env.FFPROBE_PATH:"")})):t(null,"")},function(t,e){if(t.length)return e(null,t);s.which("ffprobe",(function(t,r){e(t,r)}))},function(t,r){if(t.length)return r(null,t);e._getFfmpegPath((function(t,e){if(t)r(t);else if(e.length){var o=s.isWindows?"ffprobe.exe":"ffprobe",a=i.join(i.dirname(e),o);n.exists(a,(function(t){r(null,t?a:"")}))}else r(null,"")}))}],(function(e,r){e?t(e):t(null,m.ffprobePath=r||"")}))},t._getFlvtoolPath=function(t){if("flvtoolPath"in m)return t(null,m.flvtoolPath);o.waterfall([function(t){process.env.FLVMETA_PATH?n.exists(process.env.FLVMETA_PATH,(function(e){t(null,e?process.env.FLVMETA_PATH:"")})):t(null,"")},function(t,e){if(t.length)return e(null,t);process.env.FLVTOOL2_PATH?n.exists(process.env.FLVTOOL2_PATH,(function(t){e(null,t?process.env.FLVTOOL2_PATH:"")})):e(null,"")},function(t,e){if(t.length)return e(null,t);s.which("flvmeta",(function(t,r){e(t,r)}))},function(t,e){if(t.length)return e(null,t);s.which("flvtool2",(function(t,r){e(t,r)}))}],(function(e,r){e?t(e):t(null,m.flvtoolPath=r||"")}))},t.availableFilters=t.getAvailableFilters=function(t){if("filters"in m)return t(null,m.filters);this._spawnFfmpeg(["-filters"],{captureStdout:!0,stdoutLines:0},(function(e,r){if(e)return t(e);var n=r.get().split("\n"),i={},o={A:"audio",V:"video","|":"none"};n.forEach((function(t){var e=t.match(d);e&&(i[e[1]]={description:e[4],input:o[e[2].charAt(0)],multipleInputs:e[2].length>1,output:o[e[3].charAt(0)],multipleOutputs:e[3].length>1})})),t(null,m.filters=i)}))},t.availableCodecs=t.getAvailableCodecs=function(t){if("codecs"in m)return t(null,m.codecs);this._spawnFfmpeg(["-codecs"],{captureStdout:!0,stdoutLines:0},(function(e,r){if(e)return t(e);var n=r.get().split(h),i={};n.forEach((function(t){var e=t.match(a);if(e&&"="!==e[7]&&(i[e[7]]={type:{V:"video",A:"audio",S:"subtitle"}[e[3]],description:e[8],canDecode:"D"===e[1],canEncode:"E"===e[2],drawHorizBand:"S"===e[4],directRendering:"D"===e[5],weirdFrameTruncation:"T"===e[6]}),(e=t.match(u))&&"="!==e[7]){var r=i[e[7]]={type:{V:"video",A:"audio",S:"subtitle"}[e[3]],description:e[8],canDecode:"D"===e[1],canEncode:"E"===e[2],intraFrameOnly:"I"===e[4],isLossy:"L"===e[5],isLossless:"S"===e[6]},n=r.description.match(c);n=n?n[1].trim().split(" "):[];var o=r.description.match(f);if(o=o?o[1].trim().split(" "):[],n.length||o.length){var l={};s.copy(r,l),delete l.canEncode,delete l.canDecode,n.forEach((function(t){i[t]={},s.copy(l,i[t]),i[t].canEncode=!0})),o.forEach((function(t){t in i||(i[t]={},s.copy(l,i[t])),i[t].canDecode=!0}))}}})),t(null,m.codecs=i)}))},t.availableEncoders=t.getAvailableEncoders=function(t){if("encoders"in m)return t(null,m.encoders);this._spawnFfmpeg(["-encoders"],{captureStdout:!0,stdoutLines:0},(function(e,r){if(e)return t(e);var n=r.get().split(h),i={};n.forEach((function(t){var e=t.match(l);e&&"="!==e[7]&&(i[e[7]]={type:{V:"video",A:"audio",S:"subtitle"}[e[1]],description:e[8],frameMT:"F"===e[2],sliceMT:"S"===e[3],experimental:"X"===e[4],drawHorizBand:"B"===e[5],directRendering:"D"===e[6]})})),t(null,m.encoders=i)}))},t.availableFormats=t.getAvailableFormats=function(t){if("formats"in m)return t(null,m.formats);this._spawnFfmpeg(["-formats"],{captureStdout:!0,stdoutLines:0},(function(e,r){if(e)return t(e);var n=r.get().split(h),i={};n.forEach((function(t){var e=t.match(p);e&&e[3].split(",").forEach((function(t){t in i||(i[t]={description:e[4],canDemux:!1,canMux:!1}),"D"===e[1]&&(i[t].canDemux=!0),"E"===e[2]&&(i[t].canMux=!0)}))})),t(null,m.formats=i)}))},t._checkCapabilities=function(t){var e=this;o.waterfall([function(t){e.availableFormats(t)},function(t,r){var n;return 1===(n=e._outputs.reduce((function(e,r){var n=r.options.find("-f",1);return n&&(n[0]in t&&t[n[0]].canMux||e.push(n)),e}),[])).length?r(new Error("Output format "+n[0]+" is not available")):n.length>1?r(new Error("Output formats "+n.join(", ")+" are not available")):1===(n=e._inputs.reduce((function(e,r){var n=r.options.find("-f",1);return n&&(n[0]in t&&t[n[0]].canDemux||e.push(n[0])),e}),[])).length?r(new Error("Input format "+n[0]+" is not available")):n.length>1?r(new Error("Input formats "+n.join(", ")+" are not available")):void r()},function(t){e.availableEncoders(t)},function(t,r){var n;return 1===(n=e._outputs.reduce((function(e,r){var n=r.audio.find("-acodec",1);return n&&"copy"!==n[0]&&(n[0]in t&&"audio"===t[n[0]].type||e.push(n[0])),e}),[])).length?r(new Error("Audio codec "+n[0]+" is not available")):n.length>1?r(new Error("Audio codecs "+n.join(", ")+" are not available")):1===(n=e._outputs.reduce((function(e,r){var n=r.video.find("-vcodec",1);return n&&"copy"!==n[0]&&(n[0]in t&&"video"===t[n[0]].type||e.push(n[0])),e}),[])).length?r(new Error("Video codec "+n[0]+" is not available")):n.length>1?r(new Error("Video codecs "+n.join(", ")+" are not available")):void r()}],t)}}},7601:(t,e,r)=>{"use strict";var n=r(2081).spawn;function i(t){return t.match(/^TAG:/)}function o(t){return t.match(/^DISPOSITION:/)}function s(t){var e=t.split(/\r\n|\r|\n/);e=e.filter((function(t){return t.length>0}));var r={streams:[],format:{},chapters:[]};function n(t){for(var r={},n=e.shift();void 0!==n;){if(n.toLowerCase()=="[/"+t+"]")return r;if(n.match(/^\[/))n=e.shift();else{var i=n.match(/^([^=]+)=(.*)$/);i&&(!i[1].match(/^TAG:/)&&i[2].match(/^[0-9]+(\.[0-9]+)?$/)?r[i[1]]=Number(i[2]):r[i[1]]=i[2]),n=e.shift()}}return r}for(var i=e.shift();void 0!==i;){if(i.match(/^\[stream/i)){var o=n("stream");r.streams.push(o)}else if(i.match(/^\[chapter/i)){var s=n("chapter");r.chapters.push(s)}else"[format]"===i.toLowerCase()&&(r.format=n("format"));i=e.shift()}return r}t.exports=function(t){t.ffprobe=function(){var t,e=null,r=[],a=arguments[arguments.length-1],u=!1;function c(t,e){u||(u=!0,a(t,e))}switch(arguments.length){case 3:e=arguments[0],r=arguments[1];break;case 2:"number"==typeof arguments[0]?e=arguments[0]:Array.isArray(arguments[0])&&(r=arguments[0])}if(null===e){if(!this._currentInput)return c(new Error("No input specified"));t=this._currentInput}else if(!(t=this._inputs[e]))return c(new Error("Invalid input index"));this._getFfprobePath((function(e,u){if(e)return c(e);if(!u)return c(new Error("Cannot find ffprobe"));var f="",l=!1,p="",h=!1,d=t.isStream?"pipe:0":t.source,m=n(u,["-show_streams","-show_format"].concat(r,d));t.isStream&&(m.stdin.on("error",(function(t){["ECONNRESET","EPIPE"].indexOf(t.code)>=0||c(t)})),m.stdin.on("close",(function(){t.source.pause(),t.source.unpipe(m.stdin)})),t.source.pipe(m.stdin)),m.on("error",a);var g=null;function v(t){if(t&&(g=t),y&&l&&h){if(g)return p&&(g.message+="\n"+p),c(g);var e=s(f);[e.format].concat(e.streams).forEach((function(t){if(t){var e=Object.keys(t).filter(i);e.length&&(t.tags=t.tags||{},e.forEach((function(e){t.tags[e.substr(4)]=t[e],delete t[e]})));var r=Object.keys(t).filter(o);r.length&&(t.disposition=t.disposition||{},r.forEach((function(e){t.disposition[e.substr(12)]=t[e],delete t[e]})))}})),c(null,e)}}var y=!1;m.on("exit",(function(t,e){y=!0,t?v(new Error("ffprobe exited with code "+t)):e?v(new Error("ffprobe was killed with signal "+e)):v()})),m.stdout.on("data",(function(t){f+=t})),m.stdout.on("close",(function(){l=!0,v()})),m.stderr.on("data",(function(t){p+=t})),m.stderr.on("close",(function(){h=!0,v()}))}))}}},7186:(t,e,r)=>{"use strict";var n=r(1017),i=r(3837),o=r(2361).EventEmitter,s=r(4378);function a(t,e){if(!(this instanceof a))return new a(t,e);o.call(this),"object"!=typeof t||"readable"in t?(e=e||{}).source=t:e=t,this._inputs=[],e.source&&this.input(e.source),this._outputs=[],this.output();var r=this;["_global","_complexFilters"].forEach((function(t){r[t]=s.args()})),e.stdoutLines="stdoutLines"in e?e.stdoutLines:100,e.presets=e.presets||e.preset||n.join(__dirname,"presets"),e.niceness=e.niceness||e.priority||0,this.options=e,this.logger=e.logger||{debug:function(){},info:function(){},warn:function(){},error:function(){}}}i.inherits(a,o),t.exports=a,a.prototype.clone=function(){var t=new a,e=this;return t.options=this.options,t.logger=this.logger,t._inputs=this._inputs.map((function(t){return{source:t.source,options:t.options.clone()}})),"target"in this._outputs[0]?(t._outputs=[],t.output()):(t._outputs=[t._currentOutput={flags:{}}],["audio","audioFilters","video","videoFilters","sizeFilters","options"].forEach((function(r){t._currentOutput[r]=e._currentOutput[r].clone()})),this._currentOutput.sizeData&&(t._currentOutput.sizeData={},s.copy(this._currentOutput.sizeData,t._currentOutput.sizeData)),s.copy(this._currentOutput.flags,t._currentOutput.flags)),["_global","_complexFilters"].forEach((function(r){t[r]=e[r].clone()})),t},r(7041)(a.prototype),r(4269)(a.prototype),r(7711)(a.prototype),r(9834)(a.prototype),r(3358)(a.prototype),r(9191)(a.prototype),r(8505)(a.prototype),r(8116)(a.prototype),r(3219)(a.prototype),a.setFfmpegPath=function(t){(new a).setFfmpegPath(t)},a.setFfprobePath=function(t){(new a).setFfprobePath(t)},a.setFlvtoolPath=function(t){(new a).setFlvtoolPath(t)},a.availableFilters=a.getAvailableFilters=function(t){(new a).availableFilters(t)},a.availableCodecs=a.getAvailableCodecs=function(t){(new a).availableCodecs(t)},a.availableFormats=a.getAvailableFormats=function(t){(new a).availableFormats(t)},a.availableEncoders=a.getAvailableEncoders=function(t){(new a).availableEncoders(t)},r(7601)(a.prototype),a.ffprobe=function(t){var e=new a(t);e.ffprobe.apply(e,Array.prototype.slice.call(arguments,1))},r(5387)(a.prototype)},4269:(t,e,r)=>{"use strict";var n=r(4378);t.exports=function(t){t.withNoAudio=t.noAudio=function(){return this._currentOutput.audio.clear(),this._currentOutput.audioFilters.clear(),this._currentOutput.audio("-an"),this},t.withAudioCodec=t.audioCodec=function(t){return this._currentOutput.audio("-acodec",t),this},t.withAudioBitrate=t.audioBitrate=function(t){return this._currentOutput.audio("-b:a",(""+t).replace(/k?$/,"k")),this},t.withAudioChannels=t.audioChannels=function(t){return this._currentOutput.audio("-ac",t),this},t.withAudioFrequency=t.audioFrequency=function(t){return this._currentOutput.audio("-ar",t),this},t.withAudioQuality=t.audioQuality=function(t){return this._currentOutput.audio("-aq",t),this},t.withAudioFilter=t.withAudioFilters=t.audioFilter=t.audioFilters=function(t){return arguments.length>1&&(t=[].slice.call(arguments)),Array.isArray(t)||(t=[t]),this._currentOutput.audioFilters(n.makeFilterStrings(t)),this}}},9191:(t,e,r)=>{"use strict";var n=r(4378);t.exports=function(t){t.addInputOption=t.addInputOptions=t.withInputOption=t.withInputOptions=t.inputOption=t.inputOptions=function(t){if(!this._currentInput)throw new Error("No input specified");var e=!0;return arguments.length>1&&(t=[].slice.call(arguments),e=!1),Array.isArray(t)||(t=[t]),this._currentInput.options(t.reduce((function(t,r){var n=String(r).split(" ");return e&&2===n.length?t.push(n[0],n[1]):t.push(r),t}),[])),this},t.addOutputOption=t.addOutputOptions=t.addOption=t.addOptions=t.withOutputOption=t.withOutputOptions=t.withOption=t.withOptions=t.outputOption=t.outputOptions=function(t){var e=!0;return arguments.length>1&&(t=[].slice.call(arguments),e=!1),Array.isArray(t)||(t=[t]),this._currentOutput.options(t.reduce((function(t,r){var n=String(r).split(" ");return e&&2===n.length?t.push(n[0],n[1]):t.push(r),t}),[])),this},t.filterGraph=t.complexFilter=function(t,e){if(this._complexFilters.clear(),Array.isArray(t)||(t=[t]),this._complexFilters("-filter_complex",n.makeFilterStrings(t).join(";")),Array.isArray(e)){var r=this;e.forEach((function(t){r._complexFilters("-map",t.replace(n.streamRegexp,"[$1]"))}))}else"string"==typeof e&&this._complexFilters("-map",e.replace(n.streamRegexp,"[$1]"));return this}}},7041:(t,e,r)=>{"use strict";var n=r(4378);t.exports=function(t){t.mergeAdd=t.addInput=t.input=function(t){var e=!1,r=!1;if("string"!=typeof t){if(!("readable"in t)||!t.readable)throw new Error("Invalid input");if(this._inputs.some((function(t){return t.isStream})))throw new Error("Only one input stream is supported");r=!0,t.pause()}else{var i=t.match(/^([a-z]{2,}):/i);e=!i||"file"===i[0]}return this._inputs.push(this._currentInput={source:t,isFile:e,isStream:r,options:n.args()}),this},t.withInputFormat=t.inputFormat=t.fromFormat=function(t){if(!this._currentInput)throw new Error("No input specified");return this._currentInput.options("-f",t),this},t.withInputFps=t.withInputFPS=t.withFpsInput=t.withFPSInput=t.inputFPS=t.inputFps=t.fpsInput=t.FPSInput=function(t){if(!this._currentInput)throw new Error("No input specified");return this._currentInput.options("-r",t),this},t.nativeFramerate=t.withNativeFramerate=t.native=function(){if(!this._currentInput)throw new Error("No input specified");return this._currentInput.options("-re"),this},t.setStartTime=t.seekInput=function(t){if(!this._currentInput)throw new Error("No input specified");return this._currentInput.options("-ss",t),this},t.loop=function(t){if(!this._currentInput)throw new Error("No input specified");return this._currentInput.options("-loop","1"),void 0!==t&&this.duration(t),this}}},8505:(t,e,r)=>{"use strict";var n=r(1017);t.exports=function(t){t.usingPreset=t.preset=function(t){if("function"==typeof t)t(this);else try{var e=n.join(this.options.presets,t),i=r(9985)(e);if("function"!=typeof i.load)throw new Error("preset "+e+" has no load() function");i.load(this)}catch(t){throw new Error("preset "+e+" could not be loaded: "+t.message)}return this}}},3358:(t,e,r)=>{"use strict";var n=r(4378);t.exports=function(t){t.addOutput=t.output=function(t,e){var r=!1;if(!t&&this._currentOutput)throw new Error("Invalid output");if(t&&"string"!=typeof t){if(!("writable"in t)||!t.writable)throw new Error("Invalid output")}else if("string"==typeof t){var i=t.match(/^([a-z]{2,}):/i);r=!i||"file"===i[0]}if(t&&!("target"in this._currentOutput))this._currentOutput.target=t,this._currentOutput.isFile=r,this._currentOutput.pipeopts=e||{};else{if(t&&"string"!=typeof t&&this._outputs.some((function(t){return"string"!=typeof t.target})))throw new Error("Only one output stream is supported");this._outputs.push(this._currentOutput={target:t,isFile:r,flags:{},pipeopts:e||{}});var o=this;["audio","audioFilters","video","videoFilters","sizeFilters","options"].forEach((function(t){o._currentOutput[t]=n.args()})),t||delete this._currentOutput.target}return this},t.seekOutput=t.seek=function(t){return this._currentOutput.options("-ss",t),this},t.withDuration=t.setDuration=t.duration=function(t){return this._currentOutput.options("-t",t),this},t.toFormat=t.withOutputFormat=t.outputFormat=t.format=function(t){return this._currentOutput.options("-f",t),this},t.map=function(t){return this._currentOutput.options("-map",t.replace(n.streamRegexp,"[$1]")),this},t.updateFlvMetadata=t.flvmeta=function(){return this._currentOutput.flags.flvmeta=!0,this}}},7711:(t,e,r)=>{"use strict";var n=r(4378);t.exports=function(t){t.withNoVideo=t.noVideo=function(){return this._currentOutput.video.clear(),this._currentOutput.videoFilters.clear(),this._currentOutput.video("-vn"),this},t.withVideoCodec=t.videoCodec=function(t){return this._currentOutput.video("-vcodec",t),this},t.withVideoBitrate=t.videoBitrate=function(t,e){return t=(""+t).replace(/k?$/,"k"),this._currentOutput.video("-b:v",t),e&&this._currentOutput.video("-maxrate",t,"-minrate",t,"-bufsize","3M"),this},t.withVideoFilter=t.withVideoFilters=t.videoFilter=t.videoFilters=function(t){return arguments.length>1&&(t=[].slice.call(arguments)),Array.isArray(t)||(t=[t]),this._currentOutput.videoFilters(n.makeFilterStrings(t)),this},t.withOutputFps=t.withOutputFPS=t.withFpsOutput=t.withFPSOutput=t.withFps=t.withFPS=t.outputFPS=t.outputFps=t.fpsOutput=t.FPSOutput=t.fps=t.FPS=function(t){return this._currentOutput.video("-r",t),this},t.takeFrames=t.withFrames=t.frames=function(t){return this._currentOutput.video("-vframes",t),this}}},9834:t=>{"use strict";function e(t,e,r,n){return[{filter:"scale",options:{w:"if(gt(a,"+r+"),"+t+",trunc("+e+"*a/2)*2)",h:"if(lt(a,"+r+"),"+e+",trunc("+t+"/a/2)*2)"}},{filter:"pad",options:{w:t,h:e,x:"if(gt(a,"+r+"),0,("+t+"-iw)/2)",y:"if(lt(a,"+r+"),0,("+e+"-ih)/2)",color:n}}]}function r(t,r,n){var i=t.sizeData=t.sizeData||{};if(i[r]=n,!("size"in i))return[];var o,s,a,u=i.size.match(/([0-9]+)x([0-9]+)/),c=i.size.match(/([0-9]+)x\?/),f=i.size.match(/\?x([0-9]+)/),l=i.size.match(/\b([0-9]{1,3})%/);if(l){var p=Number(l[1])/100;return[{filter:"scale",options:{w:"trunc(iw*"+p+"/2)*2",h:"trunc(ih*"+p+"/2)*2"}}]}if(u)return a=(o=2*Math.round(Number(u[1])/2))/(s=2*Math.round(Number(u[2])/2)),i.pad?e(o,s,a,i.pad):[{filter:"scale",options:{w:o,h:s}}];if(c||f)return"aspect"in i?(o=c?c[1]:Math.round(Number(f[1])*i.aspect),s=f?f[1]:Math.round(Number(c[1])/i.aspect),o=2*Math.round(o/2),s=2*Math.round(s/2),i.pad?e(o,s,i.aspect,i.pad):[{filter:"scale",options:{w:o,h:s}}]):c?[{filter:"scale",options:{w:2*Math.round(Number(c[1])/2),h:"trunc(ow/a/2)*2"}}]:[{filter:"scale",options:{w:"trunc(oh*a/2)*2",h:2*Math.round(Number(f[1])/2)}}];throw new Error("Invalid size specified: "+i.size)}t.exports=function(t){t.keepPixelAspect=t.keepDisplayAspect=t.keepDisplayAspectRatio=t.keepDAR=function(){return this.videoFilters([{filter:"scale",options:{w:"if(gt(sar,1),iw*sar,iw)",h:"if(lt(sar,1),ih/sar,ih)"}},{filter:"setsar",options:"1"}])},t.withSize=t.setSize=t.size=function(t){var e=r(this._currentOutput,"size",t);return this._currentOutput.sizeFilters.clear(),this._currentOutput.sizeFilters(e),this},t.withAspect=t.withAspectRatio=t.setAspect=t.setAspectRatio=t.aspect=t.aspectRatio=function(t){var e=Number(t);if(isNaN(e)){var n=t.match(/^(\d+):(\d+)$/);if(!n)throw new Error("Invalid aspect ratio: "+t);e=Number(n[1])/Number(n[2])}var i=r(this._currentOutput,"aspect",e);return this._currentOutput.sizeFilters.clear(),this._currentOutput.sizeFilters(i),this},t.applyAutopadding=t.applyAutoPadding=t.applyAutopad=t.applyAutoPad=t.withAutopadding=t.withAutoPadding=t.withAutopad=t.withAutoPad=t.autoPad=t.autopad=function(t,e){"string"==typeof t&&(e=t,t=!0),void 0===t&&(t=!0);var n=r(this._currentOutput,"pad",!!t&&(e||"black"));return this._currentOutput.sizeFilters.clear(),this._currentOutput.sizeFilters(n),this}}},9985:t=>{function e(t){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}e.keys=()=>[],e.resolve=e,e.id=9985,t.exports=e},8116:(t,e,r)=>{"use strict";var n=r(2081).spawn,i=(r(1017),r(7147),r(1641)),o=r(4378);function s(t){t._inputs[0].isStream||t.ffprobe(0,(function(e,r){t._ffprobeData=r}))}t.exports=function(t){t._spawnFfmpeg=function(t,e,r,i){"function"==typeof e&&(i=r,r=e,e={}),void 0===i&&(i=r,r=function(){});var s="stdoutLines"in e?e.stdoutLines:this.options.stdoutLines;this._getFfmpegPath((function(a,u){if(a)return i(a);if(!u||0===u.length)return i(new Error("Cannot find ffmpeg"));e.niceness&&0!==e.niceness&&!o.isWindows&&(t.unshift("-n",e.niceness,u),u="nice");var c=o.linesRing(s),f=!1,l=o.linesRing(s),p=!1,h=n(u,t,e);h.stderr&&h.stderr.setEncoding("utf8"),h.on("error",(function(t){i(t)}));var d=null;function m(t){t&&(d=t),g&&(f||!e.captureStdout)&&p&&i(d,c,l)}var g=!1;h.on("exit",(function(t,e){g=!0,e?m(new Error("ffmpeg was killed with signal "+e)):t?m(new Error("ffmpeg exited with code "+t)):m()})),e.captureStdout&&(h.stdout.on("data",(function(t){c.append(t)})),h.stdout.on("close",(function(){c.close(),f=!0,m()}))),h.stderr.on("data",(function(t){l.append(t)})),h.stderr.on("close",(function(){l.close(),p=!0,m()})),r(h,c,l)}))},t._getArguments=function(){var t=this._complexFilters.get(),e=this._outputs.some((function(t){return t.isFile}));return[].concat(this._inputs.reduce((function(t,e){var r="string"==typeof e.source?e.source:"pipe:0";return t.concat(e.options.get(),["-i",r])}),[]),this._global.get(),e?["-y"]:[],t,this._outputs.reduce((function(t,e){var r,n=o.makeFilterStrings(e.sizeFilters.get()),i=e.audioFilters.get(),s=e.videoFilters.get().concat(n);return r=e.target?"string"==typeof e.target?[e.target]:["pipe:1"]:[],t.concat(e.audio.get(),i.length?["-filter:a",i.join(",")]:[],e.video.get(),s.length?["-filter:v",s.join(",")]:[],e.options.get(),r)}),[]))},t._prepare=function(t,e){var r=this;i.waterfall([function(t){r._checkCapabilities(t)},function(t){if(!e)return t();r.ffprobe(0,(function(e,n){e||(r._ffprobeData=n),t()}))},function(t){r._outputs.some((function(t){return t.flags.flvmeta&&!t.isFile&&(r.logger.warn("Updating flv metadata is only supported for files"),t.flags.flvmeta=!1),t.flags.flvmeta}))?r._getFlvtoolPath((function(e){t(e)})):t()},function(t){var e;try{e=r._getArguments()}catch(e){return t(e)}t(null,e)},function(t,e){r.availableEncoders((function(r,n){for(var i=0;i<t.length;i++)"-acodec"!==t[i]&&"-vcodec"!==t[i]||(i++,t[i]in n&&n[t[i]].experimental&&(t.splice(i+1,0,"-strict","experimental"),i+=2));e(null,t)}))}],t),e||(this.listeners("progress").length>0?s(this):this.once("newListener",(function(t){"progress"===t&&s(this)})))},t.exec=t.execute=t.run=function(){var t=this;if(!this._outputs.some((function(t){return"target"in t})))throw new Error("No output specified");var e=this._outputs.filter((function(t){return"string"!=typeof t.target}))[0],r=this._inputs.filter((function(t){return"string"!=typeof t.source}))[0],s=!1;function a(e,r,n){s||(s=!0,e?t.emit("error",e,r,n):t.emit("end",r,n))}t._prepare((function(s,u){if(s)return a(s);t._spawnFfmpeg(u,{captureStdout:!e,niceness:t.options.niceness,cwd:t.options.cwd},(function(n,i,s){if(t.ffmpegProc=n,t.emit("start","ffmpeg "+u.join(" ")),r&&(r.source.on("error",(function(t){var e=new Error("Input stream error: "+t.message);e.inputStreamError=t,a(e),n.kill()})),r.source.resume(),r.source.pipe(n.stdin),n.stdin.on("error",(function(){}))),t.options.timeout&&setTimeout((function(){var e="process ran into a timeout ("+t.options.timeout+"s)";a(new Error(e),i.get(),s.get()),n.kill()}),1e3*t.options.timeout),e&&(n.stdout.pipe(e.target,e.pipeopts),e.target.on("close",(function(){t.logger.debug("Output stream closed, scheduling kill for ffmpeg process"),setTimeout((function(){a(new Error("Output stream closed")),n.kill()}),20)})),e.target.on("error",(function(e){t.logger.debug("Output stream error, killing ffmpeg process");var r=new Error("Output stream error: "+e.message);r.outputStreamError=e,a(r,i.get(),s.get()),n.kill("SIGKILL")}))),s){if(t.listeners("stderr").length&&s.callback((function(e){t.emit("stderr",e)})),t.listeners("codecData").length){var c=!1,f={};s.callback((function(e){c||(c=o.extractCodecData(t,e,f))}))}t.listeners("progress").length&&s.callback((function(e){o.extractProgress(t,e)}))}}),(function(e,r,s){if(delete t.ffmpegProc,e)e.message.match(/ffmpeg exited with code/)&&(e.message+=": "+o.extractError(s.get())),a(e,r.get(),s.get());else{var u=t._outputs.filter((function(t){return t.flags.flvmeta}));u.length?t._getFlvtoolPath((function(t,e){if(t)return a(t);i.each(u,(function(t,r){n(e,["-U",t.target]).on("error",(function(n){r(new Error("Error running "+e+" on "+t.target+": "+n.message))})).on("exit",(function(n,i){0!==n||i?r(new Error(e+" "+(i?"received signal "+i:"exited with code "+n))+" when running on "+t.target):r()}))}),(function(t){t?a(t):a(null,r.get(),s.get())}))})):a(null,r.get(),s.get())}}))}))},t.renice=function(t){if(!o.isWindows&&(((t=t||0)<-20||t>20)&&this.logger.warn("Invalid niceness value: "+t+", must be between -20 and 20"),t=Math.min(20,Math.max(-20,t)),this.options.niceness=t,this.ffmpegProc)){var e=this.logger,r=this.ffmpegProc.pid,i=n("renice",[t,"-p",r]);i.on("error",(function(t){e.warn("could not renice process "+r+": "+t.message)})),i.on("exit",(function(n,i){i?e.warn("could not renice process "+r+": renice was killed by signal "+i):n?e.warn("could not renice process "+r+": renice exited with "+n):e.info("successfully reniced process "+r+" to "+t+" niceness")}))}return this},t.kill=function(t){return this.ffmpegProc?this.ffmpegProc.kill(t||"SIGKILL"):this.logger.warn("No running ffmpeg process, cannot send signal"),this}}},5387:(t,e,r)=>{"use strict";var n=r(7147),i=r(1017),o=r(2781).PassThrough,s=r(1641),a=r(4378);t.exports=function(t){t.saveToFile=t.save=function(t){return this.output(t).run(),this},t.writeToStream=t.pipe=t.stream=function(t,e){if(t&&!("writable"in t)&&(e=t,t=void 0),!t){if(process.version.match(/v0\.8\./))throw new Error("PassThrough stream is not supported on node v0.8");t=new o}return this.output(t,e).run(),t},t.takeScreenshots=t.thumbnail=t.thumbnails=t.screenshot=t.screenshots=function(t,e){var r,o=this,u=this._currentInput.source;if("number"==typeof(t=t||{count:1})&&(t={count:t}),"folder"in t||(t.folder=e||"."),"timestamps"in t&&(t.timemarks=t.timestamps),!("timemarks"in t)){if(!t.count)throw new Error("Cannot take screenshots: neither a count nor a timemark list are specified");var c=100/(1+t.count);t.timemarks=[];for(var f=0;f<t.count;f++)t.timemarks.push(c*(f+1)+"%")}if("size"in t){var l=t.size.match(/^(\d+)x(\d+)$/),p=t.size.match(/^(\d+)x\?$/),h=t.size.match(/^\?x(\d+)$/),d=t.size.match(/^(\d+)%$/);if(!(l||p||h||d))throw new Error("Invalid size parameter: "+t.size)}function m(t){r?t(null,r):o.ffprobe((function(e,n){r=n,t(e,n)}))}return s.waterfall([function(e){if(t.timemarks.some((function(t){return(""+t).match(/^[\d.]+%$/)}))){if("string"!=typeof u)return e(new Error("Cannot compute screenshot timemarks with an input stream, please specify fixed timemarks"));m((function(r,n){if(r)e(r);else{var i=n.streams.reduce((function(t,e){return"video"===e.codec_type&&e.width*e.height>t.width*t.height?e:t}),{width:0,height:0});if(0===i.width)return e(new Error("No video stream in input, cannot take screenshots"));var o=Number(i.duration);if(isNaN(o)&&(o=Number(n.format.duration)),isNaN(o))return e(new Error("Could not get input duration, please specify fixed timemarks"));t.timemarks=t.timemarks.map((function(t){return(""+t).match(/^([\d.]+)%$/)?o*parseFloat(t)/100:t})),e()}}))}else e()},function(e){t.timemarks=t.timemarks.map((function(t){return a.timemarkToSeconds(t)})).sort((function(t,e){return t-e})),e()},function(e){var r=t.filename||"tn.png";if(-1===r.indexOf(".")&&(r+=".png"),t.timemarks.length>1&&!r.match(/%(s|0*i)/)){var n=i.extname(r);r=i.join(i.dirname(r),i.basename(r,n)+"_%i"+n)}e(null,r)},function(t,e){if(t.match(/%[bf]/)){if("string"!=typeof u)return e(new Error("Cannot replace %f or %b when using an input stream"));t=t.replace(/%f/g,i.basename(u)).replace(/%b/g,i.basename(u,i.extname(u)))}e(null,t)},function(t,e){if(t.match(/%[whr]/)){if(l)return e(null,t,l[1],l[2]);m((function(r,n){if(r)return e(new Error("Could not determine video resolution to replace %w, %h or %r"));var i=n.streams.reduce((function(t,e){return"video"===e.codec_type&&e.width*e.height>t.width*t.height?e:t}),{width:0,height:0});if(0===i.width)return e(new Error("No video stream in input, cannot replace %w, %h or %r"));var o=i.width,s=i.height;p?(s=s*Number(p[1])/o,o=Number(p[1])):h?(o=o*Number(h[1])/s,s=Number(h[1])):d&&(o=o*Number(d[1])/100,s=s*Number(d[1])/100),e(null,t,2*Math.round(o/2),2*Math.round(s/2))}))}else e(null,t,-1,-1)},function(t,e,r,n){n(null,t=t.replace(/%r/g,"%wx%h").replace(/%w/g,e).replace(/%h/g,r))},function(e,r){var n=t.timemarks.map((function(t,r){return e.replace(/%s/g,a.timemarkToSeconds(t)).replace(/%(0*)i/g,(function(t,e){var n=""+(r+1);return e.substr(0,Math.max(0,e.length+1-n.length))+n}))}));o.emit("filenames",n),r(null,n)},function(e,r){n.exists(t.folder,(function(i){i?r(null,e):n.mkdir(t.folder,(function(t){t?r(t):r(null,e)}))}))}],(function(e,r){if(e)return o.emit("error",e);var n,s=t.timemarks.length,a=[n={filter:"split",options:s,outputs:[]}];if("size"in t){o.size(t.size);var u=o._currentOutput.sizeFilters.get().map((function(t,e){return e>0&&(t.inputs="size"+(e-1)),t.outputs="size"+e,t}));n.inputs="size"+(u.length-1),a=u.concat(a),o._currentOutput.sizeFilters.clear()}for(var c=0,f=0;f<s;f++){var l="screen"+f;n.outputs.push(l),0===f&&(c=t.timemarks[f],o.seekInput(c)),o.output(i.join(t.folder,r[f])).frames(1).map(l),f>0&&o.seek(t.timemarks[f]-c)}o.complexFilter(a),o.run()})),this},t.mergeToFile=t.concatenate=t.concat=function(t,e){var r=this._inputs.filter((function(t){return!t.isStream}))[0],n=this;return this.ffprobe(this._inputs.indexOf(r),(function(r,i){if(r)return n.emit("error",r);var o=i.streams.some((function(t){return"audio"===t.codec_type})),s=i.streams.some((function(t){return"video"===t.codec_type}));n.output(t,e).complexFilter({filter:"concat",options:{n:n._inputs.length,v:s?1:0,a:o?1:0}}).run()})),this}}},4378:(t,e,r)=>{"use strict";r(2081).exec;var n=r(2037).platform().match(/win(32|64)/),i=r(5823),o=/\r\n|\r|\n/g,s=/^\[?(.*?)\]?$/,a=/[,]/,u={},c=t.exports={isWindows:n,streamRegexp:s,copy:function(t,e){Object.keys(t).forEach((function(r){e[r]=t[r]}))},args:function(){var t=[],e=function(){t=1===arguments.length&&Array.isArray(arguments[0])?t.concat(arguments[0]):t.concat([].slice.call(arguments))};return e.clear=function(){t=[]},e.get=function(){return t},e.find=function(e,r){var n=t.indexOf(e);if(-1!==n)return t.slice(n+1,n+1+(r||0))},e.remove=function(e,r){var n=t.indexOf(e);-1!==n&&t.splice(n,(r||0)+1)},e.clone=function(){var e=c.args();return e(t),e},e},makeFilterStrings:function(t){return t.map((function(t){if("string"==typeof t)return t;var e="";return Array.isArray(t.inputs)?e+=t.inputs.map((function(t){return t.replace(s,"[$1]")})).join(""):"string"==typeof t.inputs&&(e+=t.inputs.replace(s,"[$1]")),e+=t.filter,t.options&&("string"==typeof t.options||"number"==typeof t.options?e+="="+t.options:Array.isArray(t.options)?e+="="+t.options.map((function(t){return"string"==typeof t&&t.match(a)?"'"+t+"'":t})).join(":"):Object.keys(t.options).length&&(e+="="+Object.keys(t.options).map((function(e){var r=t.options[e];return"string"==typeof r&&r.match(a)&&(r="'"+r+"'"),e+"="+r})).join(":"))),Array.isArray(t.outputs)?e+=t.outputs.map((function(t){return t.replace(s,"[$1]")})).join(""):"string"==typeof t.outputs&&(e+=t.outputs.replace(s,"[$1]")),e}))},which:function(t,e){if(t in u)return e(null,u[t]);i(t,(function(r,n){if(r)return e(null,u[t]="");e(null,u[t]=n)}))},timemarkToSeconds:function(t){if("number"==typeof t)return t;if(-1===t.indexOf(":")&&t.indexOf(".")>=0)return Number(t);var e=t.split(":"),r=Number(e.pop());return e.length&&(r+=60*Number(e.pop())),e.length&&(r+=3600*Number(e.pop())),r},extractCodecData:function(t,e,r){"inputStack"in r||(r.inputStack=[],r.inputIndex=-1,r.inInput=!1);var n,i,o,s,a=r.inputStack,u=r.inputIndex,c=r.inInput;if(n=e.match(/Input #[0-9]+, ([^ ]+),/))c=r.inInput=!0,a[u=r.inputIndex=r.inputIndex+1]={format:n[1],audio:"",video:"",duration:""};else if(c&&(i=e.match(/Duration\: ([^,]+)/)))a[u].duration=i[1];else if(c&&(o=e.match(/Audio\: (.*)/)))o=o[1].split(", "),a[u].audio=o[0],a[u].audio_details=o;else if(c&&(s=e.match(/Video\: (.*)/)))s=s[1].split(", "),a[u].video=s[0],a[u].video_details=s;else if(/Output #\d+/.test(e))c=r.inInput=!1;else if(/Stream mapping:|Press (\[q\]|ctrl-c) to stop/.test(e))return t.emit.apply(t,["codecData"].concat(a)),!0;return!1},extractProgress:function(t,e){var r=function(t){for(var e={},r=(t=t.replace(/=\s+/g,"=").trim()).split(" "),n=0;n<r.length;n++){var i=r[n].split("=",2),o=i[0],s=i[1];if(void 0===s)return null;e[o]=s}return e}(e);if(r){var n={frames:parseInt(r.frame,10),currentFps:parseInt(r.fps,10),currentKbps:r.bitrate?parseFloat(r.bitrate.replace("kbits/s","")):0,targetSize:parseInt(r.size||r.Lsize,10),timemark:r.time};if(t._ffprobeData&&t._ffprobeData.format&&t._ffprobeData.format.duration){var i=Number(t._ffprobeData.format.duration);isNaN(i)||(n.percent=c.timemarkToSeconds(n.timemark)/i*100)}t.emit("progress",n)}},extractError:function(t){return t.split(o).reduce((function(t,e){return" "===e.charAt(0)||"["===e.charAt(0)?[]:(t.push(e),t)}),[]).join("\n")},linesRing:function(t){var e=[],r=[],n=null,i=!1,s=t-1;function a(t){e.forEach((function(e){e(t)}))}return{callback:function(t){r.forEach((function(e){t(e)})),e.push(t)},append:function(t){if(!i&&(t instanceof Buffer&&(t=""+t),t&&0!==t.length)){var e=t.split(o);1===e.length?null!==n?n+=e.shift():n=e.shift():(null!==n&&(a(n+=e.shift()),r.push(n)),n=e.pop(),e.forEach((function(t){a(t),r.push(t)})),s>-1&&r.length>s&&r.splice(0,r.length-s))}},get:function(){return null!==n?r.concat([n]).join("\n"):r.join("\n")},close:function(){i||(null!==n&&(a(n),r.push(n),s>-1&&r.length>s&&r.shift(),n=null),i=!0)}}}}},5823:(t,e,r)=>{t.exports=c,c.sync=function(t,e){for(var r=u(t,e=e||{}),n=r.env,o=r.ext,c=r.extExe,f=[],l=0,p=n.length;l<p;l++){var h=n[l];'"'===h.charAt(0)&&'"'===h.slice(-1)&&(h=h.slice(1,-1));var d=i.join(h,t);!h&&/^\.[\\\/]/.test(t)&&(d=t.slice(0,2)+d);for(var m=0,g=o.length;m<g;m++){var v=d+o[m];try{if(s.sync(v,{pathExt:c})){if(!e.all)return v;f.push(v)}}catch(t){}}}if(e.all&&f.length)return f;if(e.nothrow)return null;throw a(t)};var n="win32"===process.platform||"cygwin"===process.env.OSTYPE||"msys"===process.env.OSTYPE,i=r(1017),o=n?";":":",s=r(1959);function a(t){var e=new Error("not found: "+t);return e.code="ENOENT",e}function u(t,e){var r=e.colon||o,i=e.path||process.env.PATH||"",s=[""];i=i.split(r);var a="";return n&&(i.unshift(process.cwd()),s=(a=e.pathExt||process.env.PATHEXT||".EXE;.CMD;.BAT;.COM").split(r),-1!==t.indexOf(".")&&""!==s[0]&&s.unshift("")),(t.match(/\//)||n&&t.match(/\\/))&&(i=[""]),{env:i,ext:s,extExe:a}}function c(t,e,r){"function"==typeof e&&(r=e,e={});var n=u(t,e),o=n.env,c=n.ext,f=n.extExe,l=[];!function n(u,p){if(u===p)return e.all&&l.length?r(null,l):r(a(t));var h=o[u];'"'===h.charAt(0)&&'"'===h.slice(-1)&&(h=h.slice(1,-1));var d=i.join(h,t);!h&&/^\.[\\\/]/.test(t)&&(d=t.slice(0,2)+d),function t(i,o){if(i===o)return n(u+1,p);var a=c[i];s(d+a,{pathExt:f},(function(n,s){if(!n&&s){if(!e.all)return r(null,d+a);l.push(d+a)}return t(i+1,o)}))}(0,c.length)}(0,o.length)}},2261:(t,e,r)=>{var n;t.exports=function(){if(!n){try{n=r(5158)("follow-redirects")}catch(t){}"function"!=typeof n&&(n=function(){})}n.apply(null,arguments)}},938:(t,e,r)=>{var n=r(7310),i=n.URL,o=r(3685),s=r(5687),a=r(2781).Writable,u=r(9491),c=r(2261),f=["abort","aborted","connect","error","socket","timeout"],l=Object.create(null);f.forEach((function(t){l[t]=function(e,r,n){this._redirectable.emit(t,e,r,n)}}));var p=E("ERR_FR_REDIRECTION_FAILURE","Redirected request failed"),h=E("ERR_FR_TOO_MANY_REDIRECTS","Maximum number of redirects exceeded"),d=E("ERR_FR_MAX_BODY_LENGTH_EXCEEDED","Request body larger than maxBodyLength limit"),m=E("ERR_STREAM_WRITE_AFTER_END","write after end");function g(t,e){a.call(this),this._sanitizeOptions(t),this._options=t,this._ended=!1,this._ending=!1,this._redirectCount=0,this._redirects=[],this._requestBodyLength=0,this._requestBodyBuffers=[],e&&this.on("response",e);var r=this;this._onNativeResponse=function(t){r._processResponse(t)},this._performRequest()}function v(t){var e={maxRedirects:21,maxBodyLength:10485760},r={};return Object.keys(t).forEach((function(o){var s=o+":",a=r[s]=t[o],f=e[o]=Object.create(a);Object.defineProperties(f,{request:{value:function(t,o,a){if("string"==typeof t){var f=t;try{t=w(new i(f))}catch(e){t=n.parse(f)}}else i&&t instanceof i?t=w(t):(a=o,o=t,t={protocol:s});return"function"==typeof o&&(a=o,o=null),(o=Object.assign({maxRedirects:e.maxRedirects,maxBodyLength:e.maxBodyLength},t,o)).nativeProtocols=r,u.equal(o.protocol,s,"protocol mismatch"),c("options",o),new g(o,a)},configurable:!0,enumerable:!0,writable:!0},get:{value:function(t,e,r){var n=f.request(t,e,r);return n.end(),n},configurable:!0,enumerable:!0,writable:!0}})})),e}function y(){}function w(t){var e={protocol:t.protocol,hostname:t.hostname.startsWith("[")?t.hostname.slice(1,-1):t.hostname,hash:t.hash,search:t.search,pathname:t.pathname,path:t.pathname+t.search,href:t.href};return""!==t.port&&(e.port=Number(t.port)),e}function b(t,e){var r;for(var n in e)t.test(n)&&(r=e[n],delete e[n]);return null==r?void 0:String(r).trim()}function E(t,e){function r(t){Error.captureStackTrace(this,this.constructor),t?(this.message=e+": "+t.message,this.cause=t):this.message=e}return r.prototype=new Error,r.prototype.constructor=r,r.prototype.name="Error ["+t+"]",r.prototype.code=t,r}function _(t){for(var e=0;e<f.length;e++)t.removeListener(f[e],l[f[e]]);t.on("error",y),t.abort()}g.prototype=Object.create(a.prototype),g.prototype.abort=function(){_(this._currentRequest),this.emit("abort")},g.prototype.write=function(t,e,r){if(this._ending)throw new m;if(!("string"==typeof t||"object"==typeof t&&"length"in t))throw new TypeError("data should be a string, Buffer or Uint8Array");"function"==typeof e&&(r=e,e=null),0!==t.length?this._requestBodyLength+t.length<=this._options.maxBodyLength?(this._requestBodyLength+=t.length,this._requestBodyBuffers.push({data:t,encoding:e}),this._currentRequest.write(t,e,r)):(this.emit("error",new d),this.abort()):r&&r()},g.prototype.end=function(t,e,r){if("function"==typeof t?(r=t,t=e=null):"function"==typeof e&&(r=e,e=null),t){var n=this,i=this._currentRequest;this.write(t,e,(function(){n._ended=!0,i.end(null,null,r)})),this._ending=!0}else this._ended=this._ending=!0,this._currentRequest.end(null,null,r)},g.prototype.setHeader=function(t,e){this._options.headers[t]=e,this._currentRequest.setHeader(t,e)},g.prototype.removeHeader=function(t){delete this._options.headers[t],this._currentRequest.removeHeader(t)},g.prototype.setTimeout=function(t,e){var r=this;function n(e){e.setTimeout(t),e.removeListener("timeout",e.destroy),e.addListener("timeout",e.destroy)}function i(e){r._timeout&&clearTimeout(r._timeout),r._timeout=setTimeout((function(){r.emit("timeout"),o()}),t),n(e)}function o(){r._timeout&&(clearTimeout(r._timeout),r._timeout=null),r.removeListener("abort",o),r.removeListener("error",o),r.removeListener("response",o),e&&r.removeListener("timeout",e),r.socket||r._currentRequest.removeListener("socket",i)}return e&&this.on("timeout",e),this.socket?i(this.socket):this._currentRequest.once("socket",i),this.on("socket",n),this.on("abort",o),this.on("error",o),this.on("response",o),this},["flushHeaders","getHeader","setNoDelay","setSocketKeepAlive"].forEach((function(t){g.prototype[t]=function(e,r){return this._currentRequest[t](e,r)}})),["aborted","connection","socket"].forEach((function(t){Object.defineProperty(g.prototype,t,{get:function(){return this._currentRequest[t]}})})),g.prototype._sanitizeOptions=function(t){if(t.headers||(t.headers={}),t.host&&(t.hostname||(t.hostname=t.host),delete t.host),!t.pathname&&t.path){var e=t.path.indexOf("?");e<0?t.pathname=t.path:(t.pathname=t.path.substring(0,e),t.search=t.path.substring(e))}},g.prototype._performRequest=function(){var t=this._options.protocol,e=this._options.nativeProtocols[t];if(e){if(this._options.agents){var r=t.substr(0,t.length-1);this._options.agent=this._options.agents[r]}var i=this._currentRequest=e.request(this._options,this._onNativeResponse);this._currentUrl=n.format(this._options),i._redirectable=this;for(var o=0;o<f.length;o++)i.on(f[o],l[f[o]]);if(this._isRedirect){var s=0,a=this,u=this._requestBodyBuffers;!function t(e){if(i===a._currentRequest)if(e)a.emit("error",e);else if(s<u.length){var r=u[s++];i.finished||i.write(r.data,r.encoding,t)}else a._ended&&i.end()}()}}else this.emit("error",new TypeError("Unsupported protocol "+t))},g.prototype._processResponse=function(t){var e=t.statusCode;this._options.trackRedirects&&this._redirects.push({url:this._currentUrl,headers:t.headers,statusCode:e});var r=t.headers.location;if(!r||!1===this._options.followRedirects||e<300||e>=400)return t.responseUrl=this._currentUrl,t.redirects=this._redirects,this.emit("response",t),void(this._requestBodyBuffers=[]);if(_(this._currentRequest),t.destroy(),++this._redirectCount>this._options.maxRedirects)this.emit("error",new h);else{((301===e||302===e)&&"POST"===this._options.method||303===e&&!/^(?:GET|HEAD)$/.test(this._options.method))&&(this._options.method="GET",this._requestBodyBuffers=[],b(/^content-/i,this._options.headers));var i,o=b(/^host$/i,this._options.headers),s=n.parse(this._currentUrl),a=o||s.host,u=/^\w+:/.test(r)?this._currentUrl:n.format(Object.assign(s,{host:a}));try{i=n.resolve(u,r)}catch(t){return void this.emit("error",new p(t))}c("redirecting to",i),this._isRedirect=!0;var f=n.parse(i);if(Object.assign(this._options,f),(f.protocol!==s.protocol&&"https:"!==f.protocol||f.host!==a&&!function(t,e){const r=t.length-e.length-1;return r>0&&"."===t[r]&&t.endsWith(e)}(f.host,a))&&b(/^(?:authorization|cookie)$/i,this._options.headers),"function"==typeof this._options.beforeRedirect){var l={headers:t.headers};try{this._options.beforeRedirect.call(null,this._options,l)}catch(t){return void this.emit("error",t)}this._sanitizeOptions(this._options)}try{this._performRequest()}catch(t){this.emit("error",new p(t))}}},t.exports=v({http:o,https:s}),t.exports.wrap=v},6560:t=>{"use strict";t.exports=(t,e=process.argv)=>{const r=t.startsWith("-")?"":1===t.length?"-":"--",n=e.indexOf(r+t),i=e.indexOf("--");return-1!==n&&(-1===i||n<i)}},1959:(t,e,r)=>{var n;function i(t,e,r){if("function"==typeof e&&(r=e,e={}),!r){if("function"!=typeof Promise)throw new TypeError("callback not provided");return new Promise((function(r,n){i(t,e||{},(function(t,e){t?n(t):r(e)}))}))}n(t,e||{},(function(t,n){t&&("EACCES"===t.code||e&&e.ignoreErrors)&&(t=null,n=!1),r(t,n)}))}r(7147),n="win32"===process.platform||global.TESTING_WINDOWS?r(1429):r(4601),t.exports=i,i.sync=function(t,e){try{return n.sync(t,e||{})}catch(t){if(e&&e.ignoreErrors||"EACCES"===t.code)return!1;throw t}}},4601:(t,e,r)=>{t.exports=i,i.sync=function(t,e){return o(n.statSync(t),e)};var n=r(7147);function i(t,e,r){n.stat(t,(function(t,n){r(t,!t&&o(n,e))}))}function o(t,e){return t.isFile()&&function(t,e){var r=t.mode,n=t.uid,i=t.gid,o=void 0!==e.uid?e.uid:process.getuid&&process.getuid(),s=void 0!==e.gid?e.gid:process.getgid&&process.getgid(),a=parseInt("100",8),u=parseInt("010",8);return r&parseInt("001",8)||r&u&&i===s||r&a&&n===o||r&(a|u)&&0===o}(t,e)}},1429:(t,e,r)=>{t.exports=o,o.sync=function(t,e){return i(n.statSync(t),t,e)};var n=r(7147);function i(t,e,r){return!(!t.isSymbolicLink()&&!t.isFile())&&function(t,e){var r=void 0!==e.pathExt?e.pathExt:process.env.PATHEXT;if(!r)return!0;if(-1!==(r=r.split(";")).indexOf(""))return!0;for(var n=0;n<r.length;n++){var i=r[n].toLowerCase();if(i&&t.substr(-i.length).toLowerCase()===i)return!0}return!1}(e,r)}function o(t,e,r){n.stat(t,(function(n,o){r(n,!n&&i(o,t,e))}))}},7824:t=>{var e=1e3,r=60*e,n=60*r,i=24*n;function o(t,e,r,n){var i=e>=1.5*r;return Math.round(t/r)+" "+n+(i?"s":"")}t.exports=function(t,s){s=s||{};var a,u,c=typeof t;if("string"===c&&t.length>0)return function(t){if(!((t=String(t)).length>100)){var o=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(t);if(o){var s=parseFloat(o[1]);switch((o[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return 315576e5*s;case"weeks":case"week":case"w":return 6048e5*s;case"days":case"day":case"d":return s*i;case"hours":case"hour":case"hrs":case"hr":case"h":return s*n;case"minutes":case"minute":case"mins":case"min":case"m":return s*r;case"seconds":case"second":case"secs":case"sec":case"s":return s*e;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return s;default:return}}}}(t);if("number"===c&&isFinite(t))return s.long?(a=t,(u=Math.abs(a))>=i?o(a,u,i,"day"):u>=n?o(a,u,n,"hour"):u>=r?o(a,u,r,"minute"):u>=e?o(a,u,e,"second"):a+" ms"):function(t){var o=Math.abs(t);return o>=i?Math.round(t/i)+"d":o>=n?Math.round(t/n)+"h":o>=r?Math.round(t/r)+"m":o>=e?Math.round(t/e)+"s":t+"ms"}(t);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(t))}},2130:(t,e,r)=>{"use strict";const n=r(2037),i=r(6224),o=r(6560),{env:s}=process;let a;function u(t){return 0!==t&&{level:t,hasBasic:!0,has256:t>=2,has16m:t>=3}}function c(t,e){if(0===a)return 0;if(o("color=16m")||o("color=full")||o("color=truecolor"))return 3;if(o("color=256"))return 2;if(t&&!e&&void 0===a)return 0;const r=a||0;if("dumb"===s.TERM)return r;if("win32"===process.platform){const t=n.release().split(".");return Number(t[0])>=10&&Number(t[2])>=10586?Number(t[2])>=14931?3:2:1}if("CI"in s)return["TRAVIS","CIRCLECI","APPVEYOR","GITLAB_CI","GITHUB_ACTIONS","BUILDKITE"].some((t=>t in s))||"codeship"===s.CI_NAME?1:r;if("TEAMCITY_VERSION"in s)return/^(9\.(0*[1-9]\d*)\.|\d{2,}\.)/.test(s.TEAMCITY_VERSION)?1:0;if("truecolor"===s.COLORTERM)return 3;if("TERM_PROGRAM"in s){const t=parseInt((s.TERM_PROGRAM_VERSION||"").split(".")[0],10);switch(s.TERM_PROGRAM){case"iTerm.app":return t>=3?3:2;case"Apple_Terminal":return 2}}return/-256(color)?$/i.test(s.TERM)?2:/^screen|^xterm|^vt100|^vt220|^rxvt|color|ansi|cygwin|linux/i.test(s.TERM)||"COLORTERM"in s?1:r}o("no-color")||o("no-colors")||o("color=false")||o("color=never")?a=0:(o("color")||o("colors")||o("color=true")||o("color=always"))&&(a=1),"FORCE_COLOR"in s&&(a="true"===s.FORCE_COLOR?1:"false"===s.FORCE_COLOR?0:0===s.FORCE_COLOR.length?1:Math.min(parseInt(s.FORCE_COLOR,10),3)),t.exports={supportsColor:function(t){return u(c(t,t&&t.isTTY))},stdout:u(c(!0,i.isatty(1))),stderr:u(c(!0,i.isatty(2)))}},1571:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});const n=r(7147),i=r(4074),o=r(9496),s=r(3837),a=r(1017),u=r(7147),c=r(2037),f=r(2781),l=r(9669),p=r(9167),h=r(3259),d=r(4748);p.setFfmpegPath(h);const{createOutputChannel:m,showErrorMessage:g,showInformationMessage:v}=o.window,y=r(2785),w=m("Easy Media Converter"),b="The ffmpeg binary is not found, please download it by running the `EMC: Download ffmpeg` command";e.default=class{static async init(){u.existsSync(h)||(v(b),this.printToChannel(b)),this.printToChannel("Easy Media Converter activate successfully!")}static async download(){if(w.show(),!h)return void g("No binary found for the current OS architecture");if(u.existsSync(h))return void v("The ffmpeg binary is already downloaded");const{"ffmpeg-static":{"binary-release-tag":t,"binary-release-name":e}}=y,r=c.arch(),n=`https://github.com/eugeneware/ffmpeg-static/releases/download/${t??e}/${c.platform()}-${r}`,o=i.performance.now();await this.downloadStream(n);const s=i.performance.now(),a=Math.round(s-o),f=`ffmpeg - ${(0,d.default)(u.statSync(h).size)} - ${a} ms downloaded successfully! 🚀🚀`;this.printToChannel(f),v(f)}static async convert({fsPath:t,path:e},r){if(w.show(),!u.existsSync(h)){const t="Converting action aborted";return v(b),v(t),this.printToChannel(b),void this.printToChannel(t)}try{const n=u.statSync(t).size;this.printToChannel(`File input: ${t} - size: ${(0,d.default)(n)}`);const o=e.split("/").pop(),s=o?.split(".")[0],a=t.replace(o,""),{outFile:c,fileName:f}=this.getOutFile(a,s,r),l=i.performance.now();await this.ffmpegConvert(r,t,c);const p=i.performance.now(),h=Math.round(p-l),m=`${o} => ${f} completed!`;this.printToChannel(`${m}\nTotal time: ${this.fmtMSS(h)}`);const g=u.statSync(c).size;this.printToChannel(`File output: ${c} - size: ${(0,d.default)(g)}\n`),v(m)}catch(t){this.showErrorMsg(t)}}static ffmpegConvert(t,e,r){return o.window.withProgress({location:o.ProgressLocation.Window,title:"Converting"},(n=>new Promise(((i,o)=>{let s=0,a=0,u=0,c=0,f=0,l=0,h=0;p(e).format(t).save(r).on("codecData",(({duration:t})=>h=this.durationToSec(t))).on("progress",(t=>{const{frames:e,currentFps:r,currentKbps:i,targetSize:o,timemark:p}=t,d=this.durationToSec(p)/h*100;!isNaN(r)&&r>0&&(u+=r,s=0===s?s+r:(s+r)/2,f++),!isNaN(i)&&i>0&&(a=0===a?a+i:(a+i)/2,c+=isNaN(i)?0:i,l++),u||(u=-1),c||(c=-1),n.report({message:`${this.round(d)}%`})})).on("error",(t=>{this.printToChannel(`[ffmpeg] error: ${t.message}`),o(t)})).on("end",(()=>{s=s&&u?this.round((s+u/f)/2):-1,a=a&&c?this.round((a+c/l)/2):-1,this.printToChannel("[ffmpeg] finished"),this.printToChannel(`Average fps: ${s}, average kbps: ${a}`),i()}))}))))}static downloadStream(t){const e=(0,n.createWriteStream)(h);return o.window.withProgress({location:o.ProgressLocation.Window,title:"Downloading ffmpeg"},(r=>l.default.get(t,{responseType:"stream"}).then((t=>{const{data:n}=t,i=t.headers["content-length"],o=(0,d.default)(parseInt(i));let a=0;return n.on("data",(t=>{const e=(0,d.default)(a);a+=t.length;const n=(0,d.default)(a);e!==n&&r.report({message:`${n}/${o}`})})),n.pipe(e),(0,s.promisify)(f.finished)(e)}))))}static printToChannel(t){w.append(`${t}\n`)}static round(t){return Math.round(100*(t+Number.EPSILON))/100}static fmtMSS(t){let e=Math.round(t/1e3);return e<60?`${e} sec`:(e-(e%=60))/60+(9<e?":":":0")+e}static durationToSec(t){const[e,r,n]=t.split(":");return 60*Number(e)*60+60*Number(r)+Number(n)}static getOutFile(t,e,r,n){const i=`${e}${n?`-${n}`:""}.${r}`,o=(0,a.resolve)(t,i);return u.existsSync(o)?this.getOutFile(t,e,r,n?++n:1):{outFile:o,fileName:i}}static showErrorMsg(t){const e="Error: conversion failed!";this.printToChannel(`${e} - ${t.message??JSON.stringify(t,null,2)}\n`),g(e)}}},9496:t=>{"use strict";t.exports=require("vscode")},9491:t=>{"use strict";t.exports=require("assert")},2081:t=>{"use strict";t.exports=require("child_process")},2361:t=>{"use strict";t.exports=require("events")},7147:t=>{"use strict";t.exports=require("fs")},3685:t=>{"use strict";t.exports=require("http")},5687:t=>{"use strict";t.exports=require("https")},2037:t=>{"use strict";t.exports=require("os")},1017:t=>{"use strict";t.exports=require("path")},4074:t=>{"use strict";t.exports=require("perf_hooks")},2781:t=>{"use strict";t.exports=require("stream")},6224:t=>{"use strict";t.exports=require("tty")},7310:t=>{"use strict";t.exports=require("url")},3837:t=>{"use strict";t.exports=require("util")},9796:t=>{"use strict";t.exports=require("zlib")},1641:(t,e,r)=>{"use strict";function n(t,...e){return(...r)=>t(...e,...r)}function i(t){return function(...e){var r=e.pop();return t.call(this,e,r)}}r.r(e),r.d(e,{all:()=>dt,allLimit:()=>mt,allSeries:()=>gt,any:()=>te,anyLimit:()=>ee,anySeries:()=>re,apply:()=>n,applyEach:()=>T,applyEachSeries:()=>L,asyncify:()=>l,auto:()=>I,autoInject:()=>q,cargo:()=>H,cargoQueue:()=>G,compose:()=>X,concat:()=>Q,concatLimit:()=>K,concatSeries:()=>Z,constant:()=>tt,default:()=>de,detect:()=>rt,detectLimit:()=>nt,detectSeries:()=>it,dir:()=>st,doDuring:()=>at,doUntil:()=>ut,doWhilst:()=>at,during:()=>le,each:()=>ft,eachLimit:()=>lt,eachOf:()=>A,eachOfLimit:()=>C,eachOfSeries:()=>P,eachSeries:()=>pt,ensureAsync:()=>ht,every:()=>dt,everyLimit:()=>mt,everySeries:()=>gt,filter:()=>bt,filterLimit:()=>Et,filterSeries:()=>_t,find:()=>rt,findLimit:()=>nt,findSeries:()=>it,flatMap:()=>Q,flatMapLimit:()=>K,flatMapSeries:()=>Z,foldl:()=>W,foldr:()=>$t,forEach:()=>ft,forEachLimit:()=>lt,forEachOf:()=>A,forEachOfLimit:()=>C,forEachOfSeries:()=>P,forEachSeries:()=>pt,forever:()=>xt,groupBy:()=>Ct,groupByLimit:()=>Ot,groupBySeries:()=>Ft,inject:()=>W,log:()=>St,map:()=>k,mapLimit:()=>Y,mapSeries:()=>R,mapValues:()=>kt,mapValuesLimit:()=>At,mapValuesSeries:()=>Tt,memoize:()=>Pt,nextTick:()=>Rt,parallel:()=>Nt,parallelLimit:()=>jt,priorityQueue:()=>zt,queue:()=>It,race:()=>qt,reduce:()=>W,reduceRight:()=>$t,reflect:()=>Ut,reflectAll:()=>Vt,reject:()=>Gt,rejectLimit:()=>Wt,rejectSeries:()=>Jt,retry:()=>Yt,retryable:()=>Qt,select:()=>bt,selectLimit:()=>Et,selectSeries:()=>_t,seq:()=>J,series:()=>Zt,setImmediate:()=>f,some:()=>te,someLimit:()=>ee,someSeries:()=>re,sortBy:()=>ne,timeout:()=>ie,times:()=>se,timesLimit:()=>oe,timesSeries:()=>ae,transform:()=>ue,tryEach:()=>ce,unmemoize:()=>fe,until:()=>pe,waterfall:()=>he,whilst:()=>le,wrapSync:()=>l});var o="function"==typeof queueMicrotask&&queueMicrotask,s="function"==typeof setImmediate&&setImmediate,a="object"==typeof process&&"function"==typeof process.nextTick;function u(t){setTimeout(t,0)}function c(t){return(e,...r)=>t((()=>e(...r)))}var f=c(o?queueMicrotask:s?setImmediate:a?process.nextTick:u);function l(t){return d(t)?function(...e){const r=e.pop();return p(t.apply(this,e),r)}:i((function(e,r){var n;try{n=t.apply(this,e)}catch(t){return r(t)}if(n&&"function"==typeof n.then)return p(n,r);r(null,n)}))}function p(t,e){return t.then((t=>{h(e,null,t)}),(t=>{h(e,t&&t.message?t:new Error(t))}))}function h(t,e,r){try{t(e,r)}catch(t){f((t=>{throw t}),t)}}function d(t){return"AsyncFunction"===t[Symbol.toStringTag]}function m(t){if("function"!=typeof t)throw new Error("expected a function");return d(t)?l(t):t}function g(t,e=t.length){if(!e)throw new Error("arity is undefined");return function(...r){return"function"==typeof r[e-1]?t.apply(this,r):new Promise(((n,i)=>{r[e-1]=(t,...e)=>{if(t)return i(t);n(e.length>1?e:e[0])},t.apply(this,r)}))}}function v(t){return function(e,...r){return g((function(n){var i=this;return t(e,((t,e)=>{m(t).apply(i,r.concat(e))}),n)}))}}function y(t,e,r,n){e=e||[];var i=[],o=0,s=m(r);return t(e,((t,e,r)=>{var n=o++;s(t,((t,e)=>{i[n]=e,r(t)}))}),(t=>{n(t,i)}))}function w(t){return t&&"number"==typeof t.length&&t.length>=0&&t.length%1==0}const b={};function E(t){function e(...e){if(null!==t){var r=t;t=null,r.apply(this,e)}}return Object.assign(e,t),e}function _(t){return function(...e){if(null===t)throw new Error("Callback was already called.");var r=t;t=null,r.apply(this,e)}}function x(t,e,r,n){let i=!1,o=!1,s=!1,a=0,u=0;function c(){a>=e||s||i||(s=!0,t.next().then((({value:t,done:e})=>{if(!o&&!i){if(s=!1,e)return i=!0,void(a<=0&&n(null));a++,r(t,u,f),u++,c()}})).catch(l))}function f(t,e){if(a-=1,!o)return t?l(t):!1===t?(i=!0,void(o=!0)):e===b||i&&a<=0?(i=!0,n(null)):void c()}function l(t){o||(s=!1,i=!0,n(t))}c()}var O=t=>(e,r,n)=>{if(n=E(n),t<=0)throw new RangeError("concurrency limit cannot be less than 1");if(!e)return n(null);if("AsyncGenerator"===e[Symbol.toStringTag])return x(e,t,r,n);if(function(t){return"function"==typeof t[Symbol.asyncIterator]}(e))return x(e[Symbol.asyncIterator](),t,r,n);var i=function(t){if(w(t))return function(t){var e=-1,r=t.length;return function(){return++e<r?{value:t[e],key:e}:null}}(t);var e,r,n,i,o=function(t){return t[Symbol.iterator]&&t[Symbol.iterator]()}(t);return o?function(t){var e=-1;return function(){var r=t.next();return r.done?null:(e++,{value:r.value,key:e})}}(o):(r=(e=t)?Object.keys(e):[],n=-1,i=r.length,function t(){var o=r[++n];return"__proto__"===o?t():n<i?{value:e[o],key:o}:null})}(e),o=!1,s=!1,a=0,u=!1;function c(t,e){if(!s)if(a-=1,t)o=!0,n(t);else if(!1===t)o=!0,s=!0;else{if(e===b||o&&a<=0)return o=!0,n(null);u||f()}}function f(){for(u=!0;a<t&&!o;){var e=i();if(null===e)return o=!0,void(a<=0&&n(null));a+=1,r(e.value,e.key,_(c))}u=!1}f()},C=g((function(t,e,r,n){return O(e)(t,m(r),n)}),4);function F(t,e,r){r=E(r);var n=0,i=0,{length:o}=t,s=!1;function a(t,e){!1===t&&(s=!0),!0!==s&&(t?r(t):++i!==o&&e!==b||r(null))}for(0===o&&r(null);n<o;n++)e(t[n],n,_(a))}function S(t,e,r){return C(t,1/0,e,r)}var A=g((function(t,e,r){return(w(t)?F:S)(t,m(e),r)}),3),k=g((function(t,e,r){return y(A,t,e,r)}),3),T=v(k),P=g((function(t,e,r){return C(t,1,e,r)}),3),R=g((function(t,e,r){return y(P,t,e,r)}),3),L=v(R);const N=Symbol("promiseCallback");function j(){let t,e;function r(r,...n){if(r)return e(r);t(n.length>1?n:n[0])}return r[N]=new Promise(((r,n)=>{t=r,e=n})),r}function I(t,e,r){"number"!=typeof e&&(r=e,e=null),r=E(r||j());var n=Object.keys(t).length;if(!n)return r(null);e||(e=n);var i={},o=0,s=!1,a=!1,u=Object.create(null),c=[],f=[],l={};function p(t,e){c.push((()=>function(t,e){if(!a){var n=_(((e,...n)=>{if(o--,!1!==e)if(n.length<2&&([n]=n),e){var c={};if(Object.keys(i).forEach((t=>{c[t]=i[t]})),c[t]=n,a=!0,u=Object.create(null),s)return;r(e,c)}else i[t]=n,(u[t]||[]).forEach((t=>t())),h();else s=!0}));o++;var c=m(e[e.length-1]);e.length>1?c(i,n):c(n)}}(t,e)))}function h(){if(!s){if(0===c.length&&0===o)return r(null,i);for(;c.length&&o<e;)c.shift()()}}function d(e){var r=[];return Object.keys(t).forEach((n=>{const i=t[n];Array.isArray(i)&&i.indexOf(e)>=0&&r.push(n)})),r}return Object.keys(t).forEach((e=>{var r=t[e];if(!Array.isArray(r))return p(e,[r]),void f.push(e);var n=r.slice(0,r.length-1),i=n.length;if(0===i)return p(e,r),void f.push(e);l[e]=i,n.forEach((o=>{if(!t[o])throw new Error("async.auto task `"+e+"` has a non-existent dependency `"+o+"` in "+n.join(", "));var s,a;(a=u[s=o])||(a=u[s]=[]),a.push((()=>{0==--i&&p(e,r)}))}))})),function(){for(var t=0;f.length;)t++,d(f.pop()).forEach((t=>{0==--l[t]&&f.push(t)}));if(t!==n)throw new Error("async.auto cannot execute tasks due to a recursive dependency")}(),h(),r[N]}var B=/^(?:async\s+)?(?:function)?\s*\w*\s*\(\s*([^)]+)\s*\)(?:\s*{)/,M=/^(?:async\s+)?\(?\s*([^)=]+)\s*\)?(?:\s*=>)/,D=/,/,z=/(=.+)?(\s*)$/;function q(t,e){var r={};return Object.keys(t).forEach((e=>{var n,i=t[e],o=d(i),s=!o&&1===i.length||o&&0===i.length;if(Array.isArray(i))n=[...i],i=n.pop(),r[e]=n.concat(n.length>0?a:i);else if(s)r[e]=i;else{if(n=function(t){const e=function(t){let e="",r=0,n=t.indexOf("*/");for(;r<t.length;)if("/"===t[r]&&"/"===t[r+1]){let e=t.indexOf("\n",r);r=-1===e?t.length:e}else if(-1!==n&&"/"===t[r]&&"*"===t[r+1]){let i=t.indexOf("*/",r);-1!==i?(r=i+2,n=t.indexOf("*/",r)):(e+=t[r],r++)}else e+=t[r],r++;return e}(t.toString());let r=e.match(B);if(r||(r=e.match(M)),!r)throw new Error("could not parse args in autoInject\nSource:\n"+e);let[,n]=r;return n.replace(/\s/g,"").split(D).map((t=>t.replace(z,"").trim()))}(i),0===i.length&&!o&&0===n.length)throw new Error("autoInject task functions require explicit parameters.");o||n.pop(),r[e]=n.concat(a)}function a(t,e){var r=n.map((e=>t[e]));r.push(e),m(i)(...r)}})),I(r,e)}class ${constructor(){this.head=this.tail=null,this.length=0}removeLink(t){return t.prev?t.prev.next=t.next:this.head=t.next,t.next?t.next.prev=t.prev:this.tail=t.prev,t.prev=t.next=null,this.length-=1,t}empty(){for(;this.head;)this.shift();return this}insertAfter(t,e){e.prev=t,e.next=t.next,t.next?t.next.prev=e:this.tail=e,t.next=e,this.length+=1}insertBefore(t,e){e.prev=t.prev,e.next=t,t.prev?t.prev.next=e:this.head=e,t.prev=e,this.length+=1}unshift(t){this.head?this.insertBefore(this.head,t):U(this,t)}push(t){this.tail?this.insertAfter(this.tail,t):U(this,t)}shift(){return this.head&&this.removeLink(this.head)}pop(){return this.tail&&this.removeLink(this.tail)}toArray(){return[...this]}*[Symbol.iterator](){for(var t=this.head;t;)yield t.data,t=t.next}remove(t){for(var e=this.head;e;){var{next:r}=e;t(e)&&this.removeLink(e),e=r}return this}}function U(t,e){t.length=1,t.head=t.tail=e}function V(t,e,r){if(null==e)e=1;else if(0===e)throw new RangeError("Concurrency must not be zero");var n=m(t),i=0,o=[];const s={error:[],drain:[],saturated:[],unsaturated:[],empty:[]};function a(t,e){return t?e?void(s[t]=s[t].filter((t=>t!==e))):s[t]=[]:Object.keys(s).forEach((t=>s[t]=[]))}function u(t,...e){s[t].forEach((t=>t(...e)))}var c=!1;function l(t,e,r,n){if(null!=n&&"function"!=typeof n)throw new Error("task callback must be a function");var i,o;function s(t,...e){return t?r?o(t):i():e.length<=1?i(e[0]):void i(e)}v.started=!0;var a={data:t,callback:r?s:n||s};if(e?v._tasks.unshift(a):v._tasks.push(a),c||(c=!0,f((()=>{c=!1,v.process()}))),r||!n)return new Promise(((t,e)=>{i=t,o=e}))}function p(t){return function(e,...r){i-=1;for(var n=0,s=t.length;n<s;n++){var a=t[n],c=o.indexOf(a);0===c?o.shift():c>0&&o.splice(c,1),a.callback(e,...r),null!=e&&u("error",e,a.data)}i<=v.concurrency-v.buffer&&u("unsaturated"),v.idle()&&u("drain"),v.process()}}function h(t){return!(0!==t.length||!v.idle()||(f((()=>u("drain"))),0))}const d=t=>e=>{if(!e)return new Promise(((e,r)=>{!function(t,n){const i=(...n)=>{a(t,i),((t,n)=>{if(t)return r(t);e(n)})(...n)};s[t].push(i)}(t)}));a(t),function(t,e){s[t].push(e)}(t,e)};var g=!1,v={_tasks:new $,*[Symbol.iterator](){yield*v._tasks[Symbol.iterator]()},concurrency:e,payload:r,buffer:e/4,started:!1,paused:!1,push(t,e){if(Array.isArray(t)){if(h(t))return;return t.map((t=>l(t,!1,!1,e)))}return l(t,!1,!1,e)},pushAsync(t,e){if(Array.isArray(t)){if(h(t))return;return t.map((t=>l(t,!1,!0,e)))}return l(t,!1,!0,e)},kill(){a(),v._tasks.empty()},unshift(t,e){if(Array.isArray(t)){if(h(t))return;return t.map((t=>l(t,!0,!1,e)))}return l(t,!0,!1,e)},unshiftAsync(t,e){if(Array.isArray(t)){if(h(t))return;return t.map((t=>l(t,!0,!0,e)))}return l(t,!0,!0,e)},remove(t){v._tasks.remove(t)},process(){if(!g){for(g=!0;!v.paused&&i<v.concurrency&&v._tasks.length;){var t=[],e=[],r=v._tasks.length;v.payload&&(r=Math.min(r,v.payload));for(var s=0;s<r;s++){var a=v._tasks.shift();t.push(a),o.push(a),e.push(a.data)}i+=1,0===v._tasks.length&&u("empty"),i===v.concurrency&&u("saturated");var c=_(p(t));n(e,c)}g=!1}},length:()=>v._tasks.length,running:()=>i,workersList:()=>o,idle:()=>v._tasks.length+i===0,pause(){v.paused=!0},resume(){!1!==v.paused&&(v.paused=!1,f(v.process))}};return Object.defineProperties(v,{saturated:{writable:!1,value:d("saturated")},unsaturated:{writable:!1,value:d("unsaturated")},empty:{writable:!1,value:d("empty")},drain:{writable:!1,value:d("drain")},error:{writable:!1,value:d("error")}}),v}function H(t,e){return V(t,1,e)}function G(t,e,r){return V(t,e,r)}var W=g((function(t,e,r,n){n=E(n);var i=m(r);return P(t,((t,r,n)=>{i(e,t,((t,r)=>{e=r,n(t)}))}),(t=>n(t,e)))}),4);function J(...t){var e=t.map(m);return function(...t){var r=this,n=t[t.length-1];return"function"==typeof n?t.pop():n=j(),W(e,t,((t,e,n)=>{e.apply(r,t.concat(((t,...e)=>{n(t,e)})))}),((t,e)=>n(t,...e))),n[N]}}function X(...t){return J(...t.reverse())}var Y=g((function(t,e,r,n){return y(O(e),t,r,n)}),4),K=g((function(t,e,r,n){var i=m(r);return Y(t,e,((t,e)=>{i(t,((t,...r)=>t?e(t):e(t,r)))}),((t,e)=>{for(var r=[],i=0;i<e.length;i++)e[i]&&(r=r.concat(...e[i]));return n(t,r)}))}),4),Q=g((function(t,e,r){return K(t,1/0,e,r)}),3),Z=g((function(t,e,r){return K(t,1,e,r)}),3);function tt(...t){return function(...e){return e.pop()(null,...t)}}function et(t,e){return(r,n,i,o)=>{var s,a=!1;const u=m(i);r(n,((r,n,i)=>{u(r,((n,o)=>n||!1===n?i(n):t(o)&&!s?(a=!0,s=e(!0,r),i(null,b)):void i()))}),(t=>{if(t)return o(t);o(null,a?s:e(!1))}))}}var rt=g((function(t,e,r){return et((t=>t),((t,e)=>e))(A,t,e,r)}),3),nt=g((function(t,e,r,n){return et((t=>t),((t,e)=>e))(O(e),t,r,n)}),4),it=g((function(t,e,r){return et((t=>t),((t,e)=>e))(O(1),t,e,r)}),3);function ot(t){return(e,...r)=>m(e)(...r,((e,...r)=>{"object"==typeof console&&(e?console.error&&console.error(e):console[t]&&r.forEach((e=>console[t](e))))}))}var st=ot("dir"),at=g((function(t,e,r){r=_(r);var n,i=m(t),o=m(e);function s(t,...e){if(t)return r(t);!1!==t&&(n=e,o(...e,a))}function a(t,e){return t?r(t):!1!==t?e?void i(s):r(null,...n):void 0}return a(null,!0)}),3);function ut(t,e,r){const n=m(e);return at(t,((...t)=>{const e=t.pop();n(...t,((t,r)=>e(t,!r)))}),r)}function ct(t){return(e,r,n)=>t(e,n)}var ft=g((function(t,e,r){return A(t,ct(m(e)),r)}),3),lt=g((function(t,e,r,n){return O(e)(t,ct(m(r)),n)}),4),pt=g((function(t,e,r){return lt(t,1,e,r)}),3);function ht(t){return d(t)?t:function(...e){var r=e.pop(),n=!0;e.push(((...t)=>{n?f((()=>r(...t))):r(...t)})),t.apply(this,e),n=!1}}var dt=g((function(t,e,r){return et((t=>!t),(t=>!t))(A,t,e,r)}),3),mt=g((function(t,e,r,n){return et((t=>!t),(t=>!t))(O(e),t,r,n)}),4),gt=g((function(t,e,r){return et((t=>!t),(t=>!t))(P,t,e,r)}),3);function vt(t,e,r,n){var i=new Array(e.length);t(e,((t,e,n)=>{r(t,((t,r)=>{i[e]=!!r,n(t)}))}),(t=>{if(t)return n(t);for(var r=[],o=0;o<e.length;o++)i[o]&&r.push(e[o]);n(null,r)}))}function yt(t,e,r,n){var i=[];t(e,((t,e,n)=>{r(t,((r,o)=>{if(r)return n(r);o&&i.push({index:e,value:t}),n(r)}))}),(t=>{if(t)return n(t);n(null,i.sort(((t,e)=>t.index-e.index)).map((t=>t.value)))}))}function wt(t,e,r,n){return(w(e)?vt:yt)(t,e,m(r),n)}var bt=g((function(t,e,r){return wt(A,t,e,r)}),3),Et=g((function(t,e,r,n){return wt(O(e),t,r,n)}),4),_t=g((function(t,e,r){return wt(P,t,e,r)}),3),xt=g((function(t,e){var r=_(e),n=m(ht(t));return function t(e){if(e)return r(e);!1!==e&&n(t)}()}),2),Ot=g((function(t,e,r,n){var i=m(r);return Y(t,e,((t,e)=>{i(t,((r,n)=>r?e(r):e(r,{key:n,val:t})))}),((t,e)=>{for(var r={},{hasOwnProperty:i}=Object.prototype,o=0;o<e.length;o++)if(e[o]){var{key:s}=e[o],{val:a}=e[o];i.call(r,s)?r[s].push(a):r[s]=[a]}return n(t,r)}))}),4);function Ct(t,e,r){return Ot(t,1/0,e,r)}function Ft(t,e,r){return Ot(t,1,e,r)}var St=ot("log"),At=g((function(t,e,r,n){n=E(n);var i={},o=m(r);return O(e)(t,((t,e,r)=>{o(t,e,((t,n)=>{if(t)return r(t);i[e]=n,r(t)}))}),(t=>n(t,i)))}),4);function kt(t,e,r){return At(t,1/0,e,r)}function Tt(t,e,r){return At(t,1,e,r)}function Pt(t,e=(t=>t)){var r=Object.create(null),n=Object.create(null),o=m(t),s=i(((t,i)=>{var s=e(...t);s in r?f((()=>i(null,...r[s]))):s in n?n[s].push(i):(n[s]=[i],o(...t,((t,...e)=>{t||(r[s]=e);var i=n[s];delete n[s];for(var o=0,a=i.length;o<a;o++)i[o](t,...e)})))}));return s.memo=r,s.unmemoized=t,s}var Rt=c(a?process.nextTick:s?setImmediate:u),Lt=g(((t,e,r)=>{var n=w(e)?[]:{};t(e,((t,e,r)=>{m(t)(((t,...i)=>{i.length<2&&([i]=i),n[e]=i,r(t)}))}),(t=>r(t,n)))}),3);function Nt(t,e){return Lt(A,t,e)}function jt(t,e,r){return Lt(O(e),t,r)}function It(t,e){var r=m(t);return V(((t,e)=>{r(t[0],e)}),e,1)}class Bt{constructor(){this.heap=[],this.pushCount=Number.MIN_SAFE_INTEGER}get length(){return this.heap.length}empty(){return this.heap=[],this}percUp(t){let e;for(;t>0&&Dt(this.heap[t],this.heap[e=Mt(t)]);){let r=this.heap[t];this.heap[t]=this.heap[e],this.heap[e]=r,t=e}}percDown(t){let e;for(;(e=1+(t<<1))<this.heap.length&&(e+1<this.heap.length&&Dt(this.heap[e+1],this.heap[e])&&(e+=1),!Dt(this.heap[t],this.heap[e]));){let r=this.heap[t];this.heap[t]=this.heap[e],this.heap[e]=r,t=e}}push(t){t.pushCount=++this.pushCount,this.heap.push(t),this.percUp(this.heap.length-1)}unshift(t){return this.heap.push(t)}shift(){let[t]=this.heap;return this.heap[0]=this.heap[this.heap.length-1],this.heap.pop(),this.percDown(0),t}toArray(){return[...this]}*[Symbol.iterator](){for(let t=0;t<this.heap.length;t++)yield this.heap[t].data}remove(t){let e=0;for(let r=0;r<this.heap.length;r++)t(this.heap[r])||(this.heap[e]=this.heap[r],e++);this.heap.splice(e);for(let t=Mt(this.heap.length-1);t>=0;t--)this.percDown(t);return this}}function Mt(t){return(t+1>>1)-1}function Dt(t,e){return t.priority!==e.priority?t.priority<e.priority:t.pushCount<e.pushCount}function zt(t,e){var r=It(t,e),n=!1;return r._tasks=new Bt,r.push=function(t,e=0,i=(()=>{})){if("function"!=typeof i)throw new Error("task callback must be a function");if(r.started=!0,Array.isArray(t)||(t=[t]),0===t.length&&r.idle())return f((()=>r.drain()));for(var o=0,s=t.length;o<s;o++){var a={data:t[o],priority:e,callback:i};r._tasks.push(a)}n||(n=!0,f((()=>{n=!1,r.process()})))},delete r.unshift,r}var qt=g((function(t,e){if(e=E(e),!Array.isArray(t))return e(new TypeError("First argument to race must be an array of functions"));if(!t.length)return e();for(var r=0,n=t.length;r<n;r++)m(t[r])(e)}),2);function $t(t,e,r,n){var i=[...t].reverse();return W(i,e,r,n)}function Ut(t){var e=m(t);return i((function(t,r){return t.push(((t,...e)=>{let n={};if(t&&(n.error=t),e.length>0){var i=e;e.length<=1&&([i]=e),n.value=i}r(null,n)})),e.apply(this,t)}))}function Vt(t){var e;return Array.isArray(t)?e=t.map(Ut):(e={},Object.keys(t).forEach((r=>{e[r]=Ut.call(this,t[r])}))),e}function Ht(t,e,r,n){const i=m(r);return wt(t,e,((t,e)=>{i(t,((t,r)=>{e(t,!r)}))}),n)}var Gt=g((function(t,e,r){return Ht(A,t,e,r)}),3),Wt=g((function(t,e,r,n){return Ht(O(e),t,r,n)}),4),Jt=g((function(t,e,r){return Ht(P,t,e,r)}),3);function Xt(t){return function(){return t}}function Yt(t,e,r){var n={times:5,intervalFunc:Xt(0)};if(arguments.length<3&&"function"==typeof t?(r=e||j(),e=t):(Kt(n,t),r=r||j()),"function"!=typeof e)throw new Error("Invalid arguments for async.retry");var i=m(e),o=1;function s(){i(((t,...e)=>{!1!==t&&(t&&o++<n.times&&("function"!=typeof n.errorFilter||n.errorFilter(t))?setTimeout(s,n.intervalFunc(o-1)):r(t,...e))}))}return s(),r[N]}function Kt(t,e){if("object"==typeof e)t.times=+e.times||5,t.intervalFunc="function"==typeof e.interval?e.interval:Xt(+e.interval||0),t.errorFilter=e.errorFilter;else{if("number"!=typeof e&&"string"!=typeof e)throw new Error("Invalid arguments for async.retry");t.times=+e||5}}function Qt(t,e){e||(e=t,t=null);let r=t&&t.arity||e.length;d(e)&&(r+=1);var n=m(e);return i(((e,i)=>{function o(t){n(...e,t)}return(e.length<r-1||null==i)&&(e.push(i),i=j()),t?Yt(t,o,i):Yt(o,i),i[N]}))}function Zt(t,e){return Lt(P,t,e)}var te=g((function(t,e,r){return et(Boolean,(t=>t))(A,t,e,r)}),3),ee=g((function(t,e,r,n){return et(Boolean,(t=>t))(O(e),t,r,n)}),4),re=g((function(t,e,r){return et(Boolean,(t=>t))(P,t,e,r)}),3),ne=g((function(t,e,r){var n=m(e);return k(t,((t,e)=>{n(t,((r,n)=>{if(r)return e(r);e(r,{value:t,criteria:n})}))}),((t,e)=>{if(t)return r(t);r(null,e.sort(i).map((t=>t.value)))}));function i(t,e){var r=t.criteria,n=e.criteria;return r<n?-1:r>n?1:0}}),3);function ie(t,e,r){var n=m(t);return i(((i,o)=>{var s,a=!1;i.push(((...t)=>{a||(o(...t),clearTimeout(s))})),s=setTimeout((function(){var e=t.name||"anonymous",n=new Error('Callback function "'+e+'" timed out.');n.code="ETIMEDOUT",r&&(n.info=r),a=!0,o(n)}),e),n(...i)}))}function oe(t,e,r,n){var i=m(r);return Y(function(t){for(var e=Array(t);t--;)e[t]=t;return e}(t),e,i,n)}function se(t,e,r){return oe(t,1/0,e,r)}function ae(t,e,r){return oe(t,1,e,r)}function ue(t,e,r,n){arguments.length<=3&&"function"==typeof e&&(n=r,r=e,e=Array.isArray(t)?[]:{}),n=E(n||j());var i=m(r);return A(t,((t,r,n)=>{i(e,t,r,n)}),(t=>n(t,e))),n[N]}var ce=g((function(t,e){var r,n=null;return pt(t,((t,e)=>{m(t)(((t,...i)=>{if(!1===t)return e(t);i.length<2?[r]=i:r=i,n=t,e(t?null:{})}))}),(()=>e(n,r)))}));function fe(t){return(...e)=>(t.unmemoized||t)(...e)}var le=g((function(t,e,r){r=_(r);var n=m(e),i=m(t),o=[];function s(t,...e){if(t)return r(t);o=e,!1!==t&&i(a)}function a(t,e){return t?r(t):!1!==t?e?void n(s):r(null,...o):void 0}return i(a)}),3);function pe(t,e,r){const n=m(t);return le((t=>n(((e,r)=>t(e,!r)))),e,r)}var he=g((function(t,e){if(e=E(e),!Array.isArray(t))return e(new Error("First argument to waterfall must be an array of functions"));if(!t.length)return e();var r=0;function n(e){m(t[r++])(...e,_(i))}function i(i,...o){if(!1!==i)return i||r===t.length?e(i,...o):void n(o)}n([])}));const de={apply:n,applyEach:T,applyEachSeries:L,asyncify:l,auto:I,autoInject:q,cargo:H,cargoQueue:G,compose:X,concat:Q,concatLimit:K,concatSeries:Z,constant:tt,detect:rt,detectLimit:nt,detectSeries:it,dir:st,doUntil:ut,doWhilst:at,each:ft,eachLimit:lt,eachOf:A,eachOfLimit:C,eachOfSeries:P,eachSeries:pt,ensureAsync:ht,every:dt,everyLimit:mt,everySeries:gt,filter:bt,filterLimit:Et,filterSeries:_t,forever:xt,groupBy:Ct,groupByLimit:Ot,groupBySeries:Ft,log:St,map:k,mapLimit:Y,mapSeries:R,mapValues:kt,mapValuesLimit:At,mapValuesSeries:Tt,memoize:Pt,nextTick:Rt,parallel:Nt,parallelLimit:jt,priorityQueue:zt,queue:It,race:qt,reduce:W,reduceRight:$t,reflect:Ut,reflectAll:Vt,reject:Gt,rejectLimit:Wt,rejectSeries:Jt,retry:Yt,retryable:Qt,seq:J,series:Zt,setImmediate:f,some:te,someLimit:ee,someSeries:re,sortBy:ne,timeout:ie,times:se,timesLimit:oe,timesSeries:ae,transform:ue,tryEach:ce,unmemoize:fe,until:pe,waterfall:he,whilst:le,all:dt,allLimit:mt,allSeries:gt,any:te,anyLimit:ee,anySeries:re,find:rt,findLimit:nt,findSeries:it,flatMap:Q,flatMapLimit:K,flatMapSeries:Z,forEach:ft,forEachSeries:pt,forEachLimit:lt,forEachOf:A,forEachOfSeries:P,forEachOfLimit:C,inject:W,foldl:W,foldr:$t,select:bt,selectLimit:Et,selectSeries:_t,wrapSync:l,during:le,doDuring:at}},4748:(t,e,r)=>{"use strict";r.r(e),r.d(e,{default:()=>u});const n=["B","kB","MB","GB","TB","PB","EB","ZB","YB"],i=["B","kiB","MiB","GiB","TiB","PiB","EiB","ZiB","YiB"],o=["b","kbit","Mbit","Gbit","Tbit","Pbit","Ebit","Zbit","Ybit"],s=["b","kibit","Mibit","Gibit","Tibit","Pibit","Eibit","Zibit","Yibit"],a=(t,e,r)=>{let n=t;return"string"==typeof e||Array.isArray(e)?n=t.toLocaleString(e,r):!0!==e&&void 0===r||(n=t.toLocaleString(void 0,r)),n};function u(t,e){if(!Number.isFinite(t))throw new TypeError(`Expected a finite number, got ${typeof t}: ${t}`);const r=(e={bits:!1,binary:!1,...e}).bits?e.binary?s:o:e.binary?i:n;if(e.signed&&0===t)return` 0 ${r[0]}`;const u=t<0,c=u?"-":e.signed?"+":"";let f;if(u&&(t=-t),void 0!==e.minimumFractionDigits&&(f={minimumFractionDigits:e.minimumFractionDigits}),void 0!==e.maximumFractionDigits&&(f={maximumFractionDigits:e.maximumFractionDigits,...f}),t<1)return c+a(t,e.locale,f)+" "+r[0];const l=Math.min(Math.floor(e.binary?Math.log(t)/Math.log(1024):Math.log10(t)/3),r.length-1);return t/=(e.binary?1024:1e3)**l,f||(t=t.toPrecision(3)),c+a(Number(t),e.locale,f)+" "+r[l]}},2785:t=>{"use strict";t.exports=JSON.parse('{"name":"ffmpeg-static","version":"5.0.0","description":"ffmpeg static binaries for Mac OSX and Linux and Windows","main":"index.js","files":["index.js","install.js","example.js"],"scripts":{"install":"node install.js","test":"node test.js","lint":"eslint .","prepublishOnly":"npm run lint && npm run install && npm test"},"ffmpeg-static":{"binary-release-tag":"b5.0","binary-release-name":"5.0"},"repository":{"type":"git","url":"https://github.com/eugeneware/ffmpeg-static"},"keywords":["ffmpeg","static","library","binary","binaries","mac","linux","windows"],"authors":["Eugene Ware <eugene@noblesamurai.com>","Jannis R <mail@jannisr.de>"],"contributors":["Thefrank (https://github.com/Thefrank)"],"license":"GPL-3.0-or-later","bugs":{"url":"https://github.com/eugeneware/ffmpeg-static/issues"},"engines":{"node":">=16"},"dependencies":{"@derhuerst/http-basic":"^8.2.0","env-paths":"^2.2.0","https-proxy-agent":"^5.0.0","progress":"^2.0.3"},"devDependencies":{"any-shell-escape":"^0.1.1","eslint":"^8.6.0"}}')}},e={};function r(n){var i=e[n];if(void 0!==i)return i.exports;var o=e[n]={exports:{}};return t[n](o,o.exports,r),o.exports}r.d=(t,e)=>{for(var n in e)r.o(e,n)&&!r.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},r.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),r.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})};var n={};(()=>{"use strict";var t=n;Object.defineProperty(t,"__esModule",{value:!0}),t.deactivate=t.activate=void 0;const e=r(9496),i=r(1571);t.activate=function(t){const r=e.commands.registerCommand;i.default.init(),t.subscriptions.concat([r("emc.convertMp3",(t=>i.default.convert(t,"mp3"))),r("emc.convertMp4",(t=>i.default.convert(t,"mp4"))),r("emc.download",(()=>i.default.download()))])},t.deactivate=function(){}})(),module.exports=n})();